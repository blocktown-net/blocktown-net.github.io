(function(){self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var f,g="Webkit webkit Moz moz ms O o".split(" ");function h(){var a=k,b=embed;console.assert(0<b.childElementCount,"Missing configuration.");this.l=b;this.j=a;this.m=Array.prototype.slice.call(b.querySelectorAll("a"))}
h.prototype.build=function(){var a=this.l.attachShadow({mode:"open"}),b=this.j.createElement("style");b.textContent="\n  :host { all: initial; display: block; border-radius: 0 !important; width: 405px; height: 720px; overflow: auto; }\n  .story { height: 100%; width: 100%; flex: 0 0 100%; border: 0; opacity: 0; transition: opacity 500ms ease; }\n  main { display: flex; flex-direction: row; height: 100%; }\n  .loaded iframe { opacity: 1; }\n";a.appendChild(b);this.c=this.j.createElement("main");a.appendChild(this.c);
b=this.m[0];this.h=this.j.createElement("iframe");this.h.setAttribute("src",b.href);a=this.h;b=b.getAttribute("data-poster-portrait-src");var d=a.style;f||(f=Object.create(null));var e=f.backgroundImage;if(!e){e="backgroundImage";if(void 0===d.backgroundImage){var c;b:{for(c=0;c<g.length;c++){var l=g[c]+"BackgroundImage";if(void 0!==d[l]){c=l;break b}}c=""}void 0!==d[c]&&(e=c)}f.backgroundImage=e}d=e;d&&(a.style[d]=b);this.h.classList.add("story");m(this);this.c.appendChild(this.h)};
function m(a){a.c.classList.add("loading");a.h.onload=function(){a.c.classList.remove("loading");a.c.classList.add("loaded")};a.h.onerror=function(){a.c.classList.remove("loading");a.c.classList.add("error")}}for(var k=self.document,n=k.getElementsByTagName("amp-story-embed"),i=0;i<n.length;i++){var embed=n[i],embedImpl=new h;embedImpl.build()};})();

//# sourceMappingURL=amp-story-embed-v0.js.map
