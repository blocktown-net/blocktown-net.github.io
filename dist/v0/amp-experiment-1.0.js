(self.AMP=self.AMP||[]).push({n:"amp-experiment",v:"1910151804560",f:(function(AMP,_){
var aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},l;if("function"==typeof Object.setPrototypeOf)l=Object.setPrototypeOf;else{var n;a:{var ba={a:!0},ca={};try{ca.__proto__=ba;n=ca.a;break a}catch(a){}n=!1}l=n?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var da=l;function ea(){var a,b;this.promise=new Promise(function(c,d){a=c;b=d});this.resolve=a;this.reject=b};function fa(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(c){return b}};var ha=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function p(a){var b=Object.create(null);if(!a)return b;for(var c;c=ha.exec(a);){var d=fa(c[1],c[1]),e=c[2]?fa(c[2].replace(/\+/g," "),c[2]):"";b[d]=e}return b};var q="";var ia=Object.prototype.toString;function r(a){return"[object Object]"===ia.call(a)};var u=self.AMP_CONFIG||{},ja={thirdParty:u.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:u.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof u.thirdPartyFrameRegex?new RegExp(u.thirdPartyFrameRegex):u.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:u.cdnUrl||"https://cdn.ampproject.org",cdnProxyRegex:("string"==typeof u.cdnProxyRegex?new RegExp(u.cdnProxyRegex):u.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,
errorReporting:u.errorReportingUrl||"https://amp-error-reporting.appspot.com/r",localDev:u.localDev||!1,trustedViewerHosts:[/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/,/(^|\.)gmail\.dev$/]};self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var v=self.__AMP_LOG;function w(){if(!v.user)throw Error("failed to call initLogConstructor");return v.user}function x(){if(v.dev)return v.dev;throw Error("failed to call initLogConstructor");}function y(a,b,c,d,e,f){return w().assert(a,b,c,d,e,f,void 0,void 0,void 0,void 0,void 0)};var z=Object.prototype.hasOwnProperty;function ka(){var a,b=Object.create(null);a&&Object.assign(b,a);return b}function A(a){return a||{}};function B(){var a=100;this.H=a;this.o=this.A=0;this.m=Object.create(null)}B.prototype.has=function(a){return!!this.m[a]};B.prototype.get=function(a){var b=this.m[a];if(b)return b.access=++this.o,b.payload};B.prototype.put=function(a,b){this.has(a)||this.A++;this.m[a]={payload:b,access:this.o};if(!(this.A<=this.H)){x().warn("lru-cache","Trimming LRU cache");a=this.m;var c=this.o+1,d;for(d in a){var e=a[d].access;if(e<c){c=e;var f=d}}void 0!==f&&(delete a[f],this.A--)}};function la(a,b){return b.length>a.length?!1:0==a.lastIndexOf(b,0)};var ma=A({c:!0,v:!0,a:!0,ad:!0,action:!0}),C,oa,pa=/[?&]amp_js[^&]*/,qa=/[?&]amp_gsa[^&]*/,ra=/[?&]amp_r[^&]*/,sa=/[?&]amp_kit[^&]*/,ta=/[?&]usqp[^&]*/;
function D(a){var b;C||(C=self.document.createElement("a"),oa=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new B));var c=b?null:oa,d=C;if(c&&c.has(a))a=c.get(a);else{d.href=a;d.protocol||(d.href=d.href);var e={href:d.href,protocol:d.protocol,host:d.host,hostname:d.hostname,port:"0"==d.port?"":d.port,pathname:d.pathname,search:d.search,hash:d.hash,origin:null};"/"!==e.pathname[0]&&(e.pathname="/"+e.pathname);if("http:"==e.protocol&&80==e.port||"https:"==e.protocol&&443==e.port)e.port="",e.host=e.hostname;
e.origin=d.origin&&"null"!=d.origin?d.origin:"data:"!=e.protocol&&e.host?e.protocol+"//"+e.host:e.href;d=self;if(d.__AMP_MODE)d=d.__AMP_MODE;else{var f=self.AMP_CONFIG||{};var g=!!f.test||!(!d.__AMP_TEST&&!d.__karma__);var h=d.__karma__&&d.__karma__.config.amp.testOnIe,m=!!f.localDev||g,k=p(d.location.originalHash||d.location.hash);f=f.spt;var t=p(d.location.search);q||(q=m?"1910151804560":d.AMP_CONFIG&&d.AMP_CONFIG.v?d.AMP_CONFIG.v:"011910151804560");g={localDev:m,development:!!(0<=["1","actions",
"amp","amp4ads","amp4email"].indexOf(k.development)||d.AMP_DEV_MODE),examiner:"2"==k.development,filter:k.filter,geoOverride:k["amp-geo"],userLocationOverride:k["amp-user-location"],minified:!0,lite:void 0!=t.amp_lite,test:g,testIe:h,log:k.log,version:"1910151804560",rtvVersion:q,singlePassType:f};d=d.__AMP_MODE=g}e=d.test&&Object.freeze?Object.freeze(e):e;c&&c.put(a,e);a=e}return a};function ua(a,b){if(a.__AMP__EXPERIMENT_TOGGLES)var c=a.__AMP__EXPERIMENT_TOGGLES;else{a.__AMP__EXPERIMENT_TOGGLES=Object.create(null);c=a.__AMP__EXPERIMENT_TOGGLES;if(a.AMP_CONFIG)for(var d in a.AMP_CONFIG){var e=a.AMP_CONFIG[d];"number"===typeof e&&0<=e&&1>=e&&(c[d]=Math.random()<e)}if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-doc-opt-in"])&&0<a.AMP_CONFIG["allow-doc-opt-in"].length&&(d=a.AMP_CONFIG["allow-doc-opt-in"],e=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){e=
e.getAttribute("content").split(",");for(var f=0;f<e.length;f++)-1!=d.indexOf(e[f])&&(c[e[f]]=!0)}Object.assign(c,va(a));if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-url-opt-in"])&&0<a.AMP_CONFIG["allow-url-opt-in"].length)for(d=a.AMP_CONFIG["allow-url-opt-in"],a=p(a.location.originalHash||a.location.hash),e=0;e<d.length;e++)f=a["e-"+d[e]],"1"==f&&(c[d[e]]=!0),"0"==f&&(c[d[e]]=!1)}var g=c;return!!g[b]}
function va(a){var b="";try{"localStorage"in a&&(b=a.localStorage.getItem("amp-experiment-toggles"))}catch(e){x().warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}var c=b?b.split(/\s*,\s*/g):[];a=Object.create(null);for(var d=0;d<c.length;d++)0!=c[d].length&&("-"==c[d][0]?a[c[d].substr(1)]=!1:a[c[d]]=!0);return a};function wa(a){var b=xa,c=E(a),d=F(c),e=d,f=G(e),g=f["origin-experiments"];g||(g=f["origin-experiments"]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null});g.ctor||g.obj||(g.ctor=b,g.context=c,g.resolve&&H(e,"origin-experiments"))}function I(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return H(a,b)}function ya(a,b){var c=E(a);c=F(c);return H(c,b)}function J(a,b){a=F(a);var c=za(a,b);c?b=c:(a=G(a),a[b]=Aa(),b=a[b].promise);return b}
function E(a){return a.nodeType?I((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function F(a){a=E(a);return a.isSingleDoc()?a.win:a}function H(a,b){K(a,b);var c=G(a);a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function za(a,b){var c=G(a)[b];if(c){if(c.promise)return c.promise;H(a,b);return c.promise=Promise.resolve(c.obj)}return null}function G(a){var b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});return b}
function K(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)}function Aa(){var a=new ea,b=a,c=b.promise,d=b.resolve;b=b.reject;c.catch(function(){});return{obj:null,promise:c,resolve:d,reject:b,context:null,ctor:null}};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function Ba(a){return Ca(a).then(function(a){return y(a,"Service %s was requested to be provided through %s, but %s is not loaded in the current page. To fix this problem load the JavaScript file for %s in this page.","userNotificationManager","amp-user-notification","amp-user-notification","amp-user-notification")})}
function Ca(a){var b=za(F(a),"userNotificationManager");if(b)return b;var c=E(a);return c.waitForBodyOpen().then(function(){var a=c.win;var b=c.win.document.head;if(b){var f={};b=b.querySelectorAll("script[custom-element],script[custom-template]");for(var g=0;g<b.length;g++){var h=b[g];h=h.getAttribute("custom-element")||h.getAttribute("custom-template");f[h]=!0}f=Object.keys(f)}else f=[];a=f.includes("amp-user-notification")?I(a,"extensions").waitForExtension(a,"amp-user-notification"):Promise.resolve();
return a}).then(function(){var b=c.win;return b.__AMP_EXTENDED_ELEMENTS&&b.__AMP_EXTENDED_ELEMENTS["amp-user-notification"]?J(a,"userNotificationManager"):null})};var Da=/^[\w-]+$/;function L(a){this.ampdoc=a;this.G=new ea}L.prototype.init=function(a){var b=this;a.then(function(a){return b.G.resolve(a)})};L.prototype.getVariants=function(){return this.G.promise};L.prototype.whenReady=function(){return this.getVariants()};
function Ea(a,b,c){M(b);Fa(b,c);var d=a.getParam("amp-x-"+b);if(d&&z.call(c.variants,d))return Promise.resolve(d);var e=!1!==c.sticky,f=c.cidScope||"amp-experiment",g=Promise.resolve(!0);if(e&&c.consentNotificationId){var h=a.getHeadNode();g=Ba(h).then(function(a){return a.getNotification(c.consentNotificationId)}).then(function(a){y(a,"Notification not found: "+c.consentNotificationId);return a.isDismissed()})}return g.then(function(d){if(!d)return null;var g=c.group||b;return Ga(a,g,e?f:null).then(function(a){for(var b=
0,d=c.variants,e=Object.keys(d).sort(),f=0;f<e.length;f++)if(b+=d[e[f]].weight,a<b)return e[f];return null})})}
function Fa(a,b){var c=b.variants;y(r(c)&&0<Object.keys(c).length,"Missing variants object from experiment.");b.group&&M(b.group);var d=0,e;for(e in c)if(z.call(c,e)){M(e);var f=c[e];b=f;var g=a,h=e;y(r(b),g+".variants."+h+" must be an object.");y(void 0!==b.weight&&"number"===typeof b.weight,g+".variants."+h+" must have a number weight.");var m=b.weight;y(0<m&&100>m,"Invalid weight percentage %s. "+(g+".variants."+h)+" Has to be greater than 0 and less than 100",m);y(b.mutations&&Array.isArray(b.mutations),
g+".variants."+h+" must have a mutations array.");var k=f.weight;d+=k}y(100>=d.toFixed(6),"Total percentage is bigger than 100: "+d)}function Ga(a,b,c){if(!c)return Promise.resolve(100*a.win.Math.random());var d=J(a,"cid").then(function(a){return a.get({scope:c,createCookieIfNotPresent:!0},Promise.resolve())});return Promise.all([d,I(a.win,"crypto")]).then(function(a){return a[1].uniform(b+":"+a[0])}).then(function(a){return 100*a})}
function M(a){y(Da.test(a),"Invalid name: %s. Allowed chars are [a-zA-Z0-9-_].",a)};var N,Ha="Webkit webkit Moz moz ms O o".split(" ");function O(a){var b=JSON.stringify(a);y(void 0!==a.value&&"string"===typeof a.value,"Mutation %s must have a value.",b);y(void 0!==a.attributeName&&"string"===typeof a.attributeName,"Mutation %s must have a attributeName.",b)};function P(a,b){this.h=a;this.j=b;O(this.h)}P.prototype.parseAndValidate=function(){return this.h.value.match(/(^|\\W)i-amphtml-/)?!1:!0};P.prototype.mutate=function(){var a=this;this.j.forEach(function(b){b.setAttribute(a.h.attributeName,a.h.value)})};P.prototype.toString=function(){return JSON.stringify(this.h)};var Ia=/\S/,Q=/.*/,Ja={color:Q,"background-color":Q,visibility:/^hidden$/,display:/^none$/,position:/^(static|relative|absolute|initial|inherit)$/,"font-size":Q,"background-image":Q,"border-width":Q,"border-style":Q,"border-color":Q},Ka={width:Q,height:Q};function R(a,b){this.h=a;this.j=b;this.F=A({});this.D=!1;O(this.h)}
R.prototype.parseAndValidate=function(){var a=this.h.value;if(a.match(/(!\s*important|<)/))return!1;for(var b=0;b<this.j.length;b++){var c=this.j[b].tagName;if(la(c,"AMP-")&&"AMP-STICKY-AD-TOP-PADDING"!=c&&"AMP-BODY"!=c){this.D=!0;break}}var d=a.split(";");for(a=0;a<d.length;a++)if(Ia.test(d[a])){var e=d[a].split(":");if(2!=e.length)return!1;b=e[0].trim();c=e[1].trim();if(!(!this.D&&z.call(Ka,b)&&c.match(Ka[b])||z.call(Ja,b)&&c.match(Ja[b])))return w().error("amp-experiment/style","Unsupported style mutation property: %s, value: %s",
b,c),!1;this.F[b]=c}return!0};
R.prototype.mutate=function(){var a=this;this.j.forEach(function(b){var c=a.F;"display"in c&&x().error("STYLE","`display` style detected in styles. You must use toggle instead.");for(var d in c){var e=b,f=c[d];var g=e.style;var h=d;if(la(h,"--"))g=h;else{N||(N=ka());var m=N[h];if(!m){m=h;if(void 0===g[h]){var k=h;k=k.charAt(0).toUpperCase()+k.slice(1);b:{for(var t=0;t<Ha.length;t++){var na=Ha[t]+k;if(void 0!==g[na]){k=na;break b}}k=""}void 0!==g[k]&&(m=k)}N[h]=m}g=m}g&&(e.style[g]=f)}})};
R.prototype.toString=function(){return JSON.stringify(this.h)};var La=["AMP-IMG","AMP-IFRAME","A"];function S(a,b){this.h=a;this.j=b;O(this.h)}
S.prototype.parseAndValidate=function(){for(var a=0;a<this.j.length;a++)if(0>La.indexOf(this.j[a].tagName))return!1;try{var b=this.h.value,c=this.h.target;a="attributes mutation";a=void 0===a?"source":a;y(null!=b,"%s %s must be available",c,a);var d=b;"string"==typeof d&&(d=D(d));var e;if(!(e="https:"==d.protocol||"localhost"==d.hostname||"127.0.0.1"==d.hostname)){var f=d.hostname,g=f.length-10;e=0<=g&&f.indexOf(".localhost",g)==g}y(e||/^(\/\/)/.test(b),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',
c,a,b)}catch(h){return w().error("amp-experiment attribute-mutation-default-url",h.message),!1}return!0};S.prototype.mutate=function(){var a=this;this.j.forEach(function(b){var c=a.h.attributeName,d=a.h.value;b.setAttribute(c,d);if("function"===typeof b.mutatedAttributesCallback){var e=ka();e[c]=d;b.mutatedAttributesCallback(e)}})};S.prototype.toString=function(){return JSON.stringify(this.h)};function T(a,b){this.h=a;this.j=b;a=this.h;b=JSON.stringify(a);y(void 0!==a.value&&"string"===typeof a.value,"Mutation %s must have a value.",b)}T.prototype.parseAndValidate=function(){return!0};T.prototype.mutate=function(){var a=this;this.j.forEach(function(b){b.textContent=a.h.value})};T.prototype.toString=function(){return JSON.stringify(this.h)};var Ma=["attributes","characterData","childList"];function Na(a,b,c){var d=Oa(b,c);return a.whenReady().then(function(){var b=[],c=0;d.forEach(function(d){y(r(d),"Mutation %s must be an object.",JSON.stringify(d));y(void 0!==d.type&&"string"===typeof d.type,"Mutation %s must have a type.",JSON.stringify(d));y(0<=Ma.indexOf(d.type),"Mutation %s must have a valid type.",JSON.stringify(d));y(void 0!==d.target&&"string"===typeof d.target,"Mutation %s must have a target.",JSON.stringify(d));var e=a.win.document;var f=d.target;y(!f.match(/(^|\\W)i-amphtml-/),
"target %s cannot select i-amphtml-",f);e=e.querySelectorAll(f);y(0<e.length,"No element on the document matches the selector, %s .",d.target);e=e?Array.prototype.slice.call(e):[];c+=e.length;b.push({mutationRecord:d,elements:e})});if(70<c){var g="Max number of mutations for the total applied experiments exceeded: "+(c+" > 70");w().error("amp-experiment apply-experiment",g);throw Error(g);}var h=Pa(b);h.forEach(function(a){y(a.parseAndValidate(),"Mutation %s has an an unsupported value.",a.toString())});
h.forEach(function(a){a.mutate()})})}function Oa(a,b){var c=[],d;for(d in b){var e=b[d];if(e){var f=a[d].variants[e];c=c.concat(f.mutations)}}return c}
function Pa(a){var b=[];a.forEach(function(a){var d=a,c=d.mutationRecord;d=d.elements;var f=void 0;if("characterData"===c.type)f=new T(c,d);else if("attributes"===c.type)if("style"===c.attributeName)f=new R(c,d);else if("href"===c.attributeName||"src"===c.attributeName)f=new S(c,d);else if("class"===c.attributeName)f=new P(c,d);else throw Error("Mutation "+JSON.stringify(c)+" has an unsupported attributeName.");else w().error("amp-experiment apply-experiment","childList mutations not supported in the current experiment state."),
f={parseAndValidate:function(){return!0},mutate:function(){}};b.push(f)});return b};function Qa(a){for(var b=new Uint8Array(a.length),c=0;c<a.length;c++){var d=a.charCodeAt(c);b[c]=d}return b}function U(a){for(var b=Array(a.length),c=0;c<a.length;c++)b[c]=String.fromCharCode(a[c]);return b.join("")};var Ra={alg:"RS256",e:"AQAB",ext:!0,key_ops:["verify"],kty:"RSA",n:"uAGSMYKze8Fit508UaGHz1eZowfX4YsA0lmyi-65xQfjF7nMo61c4Iz4erdqgRp-ov662yVPquhPmTxgB-nzNcTPrj15Jo05Js78Q9hS2hrPIjKMlzcKSYQN_08QieWKOSmVbLSv_-4n9Ms5ta8nRs4pwc_2nX5n7m5B5GH4VerGbqIWIn9FRNYMShBRQ9TCHpb6BIUTwUn6iwmJLenq0A1xhGrQ9rswGC1QJhjotkeReKXZDLLWaFr0uRw-IyvRa5RiiEGntgOvcbvamM5TnbKavc2rxvg2TWTCNQnb7lWSAzldJA_yAOYet_MjnHMyj2srUdbQSDCk8kPWWuafiQ"};
function xa(a){this.C=a;this.l=I(a.win,"crypto");a=a.getHeadNode();var b=a.ownerDocument.defaultView,c=b.__AMP_TOP||(b.__AMP_TOP=b),d=b!=c;c=ua(c,"ampdoc-fie");d&&!c?a=K(b,"url")?H(b,"url"):null:(a=E(a),a=F(a),a=K(a,"url")?H(a,"url"):null);this.B=a;this.I=new V(this.l,this.B);this.w=null}
xa.prototype.getExperiments=function(a,b){a=void 0===a?!1:a;b=void 0===b?Ra:b;if(!this.l.isPkcsAvailable())return w().error("OriginExperiments","Crypto is unavailable."),Promise.resolve([]);if(!this.w||a)this.w=Sa(this,b);return this.w};
function Sa(a,b){var c=a.C.getHeadNode().querySelectorAll('meta[name="amp-experiment-token"]');if(0==c.length)return Promise.resolve();var d=a.C.win;return I(d,"crypto").importPkcsKey(b).then(function(b){for(var e=[],g=0;g<c.length;g++){var h=c[g],m=h.getAttribute("content");m?(h=a.I.verifyToken(m,d.location,b).catch(function(a){w().error("OriginExperiments","Failed to verify experiment token:",a)}),e.push(h)):w().error("OriginExperiments","Missing content for experiment token: ",h)}return Promise.all(e)})}
function V(a,b){this.l=a;this.B=b}V.prototype.generateKeys=function(){var a=Object.assign({modulusLength:2048,publicExponent:Uint8Array.of(1,0,1)},this.l.pkcsAlgo);return this.l.subtle.generateKey(a,!0,["sign","verify"])};V.prototype.generateToken=function(a,b,c){b=Qa(JSON.stringify(b));var d=Ta(a,b);return this.l.subtle.sign(this.l.pkcsAlgo,c,d).then(function(a){a=new Uint8Array(a);a=U(d)+U(a);return btoa(a)})};
V.prototype.verifyToken=function(a,b,c){var d=this;return new Promise(function(e){var f=0,g=Qa(atob(a)),h=g[f];if(0!==h)throw Error("Unrecognized token version: "+h);f+=1;h=(new DataView(g.buffer)).getUint32(f);f+=4;if(h>g.length-f)throw Error("Unexpected config length: "+h);var m=g.subarray(f,f+h);f+=h;h=g.subarray(0,f);f=g.subarray(f);e(d.l.verifyPkcs(c,f,h).then(function(a){if(!a)throw Error("Failed to verify token signature.");var c=U(m),e=JSON.parse(c),f=d.B.parse(e.origin).origin;var g=b;"string"==
typeof g&&(g=D(g));var h=g;"string"==typeof h&&(h=D(h));if(ja.cdnProxyRegex.test(h.origin)){h=g.pathname.split("/");y(ma[h[1]],"Unknown path prefix in url %s",g.href);var k=h[2],Z="s"==k?"https://"+decodeURIComponent(h[3]):"http://"+decodeURIComponent(k);y(0<Z.indexOf("."),"Expected a . in origin %s",Z);h.splice(1,"s"==k?3:2);h=Z+h.join("/");k=(k=g.search)&&"?"!=k?(k=k.replace(pa,"").replace(qa,"").replace(ra,"").replace(sa,"").replace(ta,"").replace(/^[?&]/,""))?"?"+k:"":"";g=h+k+(g.hash||"")}else g=
g.href;g=D(g).origin;if(f!==g)throw Error("Config origin ("+f+") does not match window ("+(g+")."));g=e.experiment;var Wa=e.expiration;if(Wa>=Date.now())return g;throw Error('Experiment "'+g+'" has expired.');}))})};function Ta(a,b){var c=new Uint8Array(b.length+5);c[0]=a;(new DataView(c.buffer)).setUint32(1,b.length,!1);c.set(b,5);return c};function W(){return AMP.BaseElement.apply(this,arguments)||this}var X=AMP.BaseElement;W.prototype=aa(X.prototype);W.prototype.constructor=W;if(da)da(W,X);else for(var Y in X)if("prototype"!=Y)if(Object.defineProperties){var Ua=Object.getOwnPropertyDescriptor(X,Y);Ua&&Object.defineProperty(W,Y,Ua)}else W[Y]=X[Y];W.J=X.prototype;W.prototype.isLayoutSupported=function(a){return"nodisplay"==a||"container"==a};W.prototype.prerenderAllowed=function(){return!0};W.prototype.isBuildRenderBlocking=function(){return!0};
W.prototype.buildCallback=function(){var a=this,b=[J(this.getAmpDoc(),"variant"),Va(this)];return Promise.all(b).then(function(b){var c=b[0],e=b[1],f=A({});try{f=Xa(a);if(!e)return w().error("amp-experiment","Experiment amp-experiment-1.0 is not enabled."),c.init(Promise.resolve(Ya(f))),Promise.reject("Experiment amp-experiment-1.0 is not enabled.");var g=a.getAmpDoc();ya(g,"viewer");if(null!=g.getParam("amp-x-disable-all-experiments"))c.init(Promise.resolve(Ya(f)));else{var h=Object.create(null),
m=Object.keys(f).map(function(a){return Ea(g,a,f[a]).then(function(b){h[a]=b})}),k=Promise.all(m).then(function(){var b=a.getAmpDoc(),d=Na(b,f,h),e=d.then(function(){return h});c.init(e);return e}).catch(function(a){c.init(Promise.resolve(Ya(f)));throw a;});return k}}catch(t){throw c.init(Promise.resolve({})),t;}})};
function Xa(a){a=a.element.children;y(1==a.length&&"SCRIPT"==a[0].tagName&&"APPLICATION/JSON"==a[0].getAttribute("type").toUpperCase(),'<amp-experiment> should contain exactly one <script type="application/json"> child.');return JSON.parse(a[0].textContent)}function Ya(a){var b=Object.create(null);Object.keys(a).map(function(a){b[a]=null});return b}
function Va(a){if(ua(a.win,"amp-experiment-1.0"))return Promise.resolve(!0);wa(a.getAmpDoc());return ya(a.element,"origin-experiments").getExperiments().then(function(a){return a&&a.includes("amp-experiment-1.0")})}(function(a){a.registerServiceForDoc("variant",L);a.registerElement("amp-experiment",W)})(self.AMP);
})});

//# sourceMappingURL=amp-experiment-1.0.js.map
