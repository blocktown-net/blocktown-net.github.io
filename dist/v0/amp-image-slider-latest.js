(self.AMP=self.AMP||[]).push({n:"amp-image-slider",v:"1910151804560",f:(function(AMP,_){
var f,aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},k;if("function"==typeof Object.setPrototypeOf)k=Object.setPrototypeOf;else{var l;a:{var ba={a:!0},p={};try{p.__proto__=ba;l=p.a;break a}catch(a){}l=!1}k=l?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var q=k;
function r(a,b){a.prototype=aa(b.prototype);a.prototype.constructor=a;if(q)q(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.Qa=b.prototype};function t(){this.o=null}f=t.prototype;f.add=function(a){var b=this;this.o||(this.o=[]);this.o.push(a);return function(){b.remove(a)}};f.remove=function(a){this.o&&(a=this.o.indexOf(a),-1<a&&this.o.splice(a,1))};f.removeAll=function(){this.o&&(this.o.length=0)};f.fire=function(a){if(this.o)for(var b=this.o,c=0;c<b.length;c++)(0,b[c])(a)};f.getHandlerCount=function(){return this.o?this.o.length:0};self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var u=self.__AMP_LOG;function v(){if(!u.user)throw Error("failed to call initLogConstructor");return u.user}function ca(a){v().assert(a,"2 <amp-img>s must be provided for comparison",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)};(function(a){return a||{}})({c:!0,v:!0,a:!0,ad:!0,action:!0});function w(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return x(a,b)}function y(a){var b=z(a);b=z(b);b=b.isSingleDoc()?b.win:b;return x(b,"owners")}function z(a){return a.nodeType?w((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function x(a,b){var c=a.__AMP_SERVICES;c||(c=a.__AMP_SERVICES={});var d=c;a=d[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function A(a,b){var c,d=this;this.wa=w(a,"timer");this.Ca=b;this.Ba=c||0;this.T=-1;this.ea=0;this.ka=!1;this.Aa=function(){d.Y()}}A.prototype.isPending=function(){return-1!=this.T};A.prototype.schedule=function(a){var b=a||this.Ba;this.ka&&10>b&&(b=10);var c=Date.now()+b;return!this.isPending()||-10>c-this.ea?(this.cancel(),this.ea=c,this.T=this.wa.delay(this.Aa,b),!0):!1};A.prototype.Y=function(){this.T=-1;this.ea=0;this.ka=!0;this.Ca();this.ka=!1};
A.prototype.cancel=function(){this.isPending()&&(this.wa.cancel(this.T),this.T=-1)};function da(a,b){for(var c=0;c<a.length;c++)if(b(a[c],c,a))return c;return-1};function ea(a,b,c,d){this.type=a;this.data=b;this.time=c;this.event=d}
function B(a,b,c){this.C=a;this.h=[];this.P=[];this.w=[];this.j=[];this.m=null;this.Na=b;this.Oa=c;this.aa=!1;this.Y=new A(a.ownerDocument.defaultView,this.ra.bind(this));this.ta=new t;this.S=Object.create(null);this.qa=this.La.bind(this);this.oa=this.Ja.bind(this);this.pa=this.Ka.bind(this);this.na=this.Ia.bind(this);this.C.addEventListener("touchstart",this.qa);this.C.addEventListener("touchend",this.oa);this.C.addEventListener("touchmove",this.pa);this.C.addEventListener("touchcancel",this.na);
this.fa=!1}function fa(a){var b=void 0===b?!1:b;var c=void 0===c?!1:c;var d=a.__AMP_Gestures;d||(d=new B(a,b,c),a.__AMP_Gestures=d);return d}f=B.prototype;f.cleanup=function(){this.C.removeEventListener("touchstart",this.qa);this.C.removeEventListener("touchend",this.oa);this.C.removeEventListener("touchmove",this.pa);this.C.removeEventListener("touchcancel",this.na);delete this.C.__AMP_Gestures;this.Y.cancel()};
f.onGesture=function(a,b){var c=new a(this),d=c.getType(),e=this.S[d];e||(this.h.push(c),e=new t,this.S[d]=e);return e.add(b)};f.removeGesture=function(a){var b=(new a(this)).getType();if(a=this.S[b]){a.removeAll();a=da(this.h,function(a){return a.getType()==b});if(0>a)return!1;this.h.splice(a,1);this.w.splice(a,1);this.j.splice(a,1);this.P.splice(a,1);delete this.S[b];return!0}return!1};f.onPointerDown=function(a){return this.ta.add(a)};
f.La=function(a){var b=Date.now();this.aa=!1;this.ta.fire(a);for(var c=0;c<this.h.length;c++)if(!this.w[c]&&(this.j[c]&&this.j[c]<b&&C(this,c),this.h[c].onTouchStart(a))){var d=c;this.P[d]=!0;this.j[d]=0}D(this,a)};f.Ka=function(a){for(var b=Date.now(),c=0;c<this.h.length;c++)this.P[c]&&(this.j[c]&&this.j[c]<b?C(this,c):this.h[c].onTouchMove(a)||C(this,c));D(this,a)};
f.Ja=function(a){for(var b=Date.now(),c=0;c<this.h.length;c++)if(this.P[c])if(this.j[c]&&this.j[c]<b)C(this,c);else{this.h[c].onTouchEnd(a);var d=!this.j[c],e=this.j[c]<b,g=this.m==this.h[c];g||!d&&!e||C(this,c)}D(this,a)};f.Ia=function(a){for(var b=0;b<this.h.length;b++){var c=b;this.w[c]=0;C(this,c)}D(this,a)};
function D(a,b){var c=!!a.m||a.aa;a.aa=!1;if(!c)for(var d=Date.now(),e=0;e<a.h.length;e++)if(a.w[e]||a.j[e]&&a.j[e]>=d){c=!0;break}c?(b.stopPropagation(),a.Na||b.preventDefault()):a.Oa&&b.stopPropagation();a.fa&&(a.fa=!1,a.ra())}
f.ra=function(){for(var a=Date.now(),b=-1,c=0;c<this.h.length;c++)if(!this.w[c])this.j[c]&&this.j[c]<a&&C(this,c);else if(-1==b||this.w[c]>this.w[b])b=c;if(-1!=b){var d=0;for(c=0;c<this.h.length;c++)!this.w[c]&&this.P[c]&&(d=Math.max(d,this.j[c]-a));if(2>d){a=b;c=this.h[a];for(var e=0;e<this.h.length;e++)if(e!=a){var g=e;this.w[g]=0;C(this,g)}this.w[a]=0;this.j[a]=0;this.m=c;c.acceptStart()}else this.Y.schedule(d)}};function C(a,b){a.P[b]=!1;a.j[b]=0;a.w[b]||a.h[b].acceptCancel()}
function E(a,b){this.Pa=a;this.X=b}f=E.prototype;f.getType=function(){return this.Pa};f.signalReady=function(a){var b=this.X;if(b.m)this.acceptCancel();else{for(var c=Date.now(),d=0;d<b.h.length;d++)b.h[d]==this&&(b.w[d]=c+a,b.j[d]=0);b.fa=!0}};f.signalPending=function(a){var b=this.X;if(b.m)this.acceptCancel();else for(var c=Date.now(),d=0;d<b.h.length;d++)b.h[d]==this&&(b.j[d]=c+a)};f.signalEnd=function(){var a=this.X;a.m==this&&(a.m=null,a.aa=!0)};
f.signalEmit=function(a,b){var c=this.X.S[this.getType()];c&&c.fire(new ea(this.getType(),a,Date.now(),b))};f.acceptStart=function(){};f.acceptCancel=function(){};f.onTouchStart=function(){return!1};f.onTouchMove=function(){return!1};f.onTouchEnd=function(){};function F(a,b,c){1>b&&(b=1);var d=a/b,e=.5+Math.min(b/33.34,.5);return d*e+c*(1-e)};function G(a,b,c,d){E.call(this,a,b);this.sa=c;this.za=d;this.m=!1;this.ma=this.la=this.ga=this.V=this.ua=this.ia=this.ha=this.M=this.L=this.O=this.N=0}r(G,E);f=G.prototype;f.onTouchStart=function(a){a=a.touches;return this.m&&a&&1<a.length?!0:a&&1==a.length?(this.ua=Date.now(),this.N=a[0].clientX,this.O=a[0].clientY,!0):!1};
f.onTouchMove=function(a){var b=a.touches;if(b&&1<=b.length){var c=b[0];b=c.clientX;c=c.clientY;this.L=b;this.M=c;if(this.m)H(this,!1,!1,a);else if(a=Math.abs(b-this.N),b=Math.abs(c-this.O),this.sa&&this.za)(8<=a||8<=b)&&this.signalReady(-10);else if(this.sa)if(8<=a&&a>b)this.signalReady(-10);else{if(8<=b)return!1}else if(this.za)if(8<=b&&b>a)this.signalReady(-10);else{if(8<=a)return!1}else return!1;return!0}return!1};
f.onTouchEnd=function(a){var b=a.touches;b&&0==b.length&&this.m&&(this.m=!1,H(this,!1,!0,a),this.signalEnd())};f.acceptStart=function(){this.m=!0;this.ha=this.N;this.ia=this.O;this.ga=this.ua;this.N=this.L;this.O=this.M;H(this,!0,!1,null)};f.acceptCancel=function(){this.m=!1};
function H(a,b,c,d){a.V=Date.now();var e=a.V-a.ga;if(!c&&4<e||c&&16<e){var g=F(a.L-a.ha,e,a.la),h=F(a.M-a.ia,e,a.ma);if(!c||32<e||0!=g||0!=h)a.la=1E-4<Math.abs(g)?g:0,a.ma=1E-4<Math.abs(h)?h:0;a.ha=a.L;a.ia=a.M;a.ga=a.V}a.signalEmit({first:b,last:c,time:a.V,deltaX:a.L-a.N,deltaY:a.M-a.O,startX:a.N,startY:a.O,lastX:a.L,lastY:a.M,velocityX:a.la,velocityY:a.ma},d)}function I(a){G.call(this,"swipe-x",a,!0,!1)}r(I,G);var J,K="Webkit webkit Moz moz ms O o".split(" ");function L(a,b,c){var d;var e=a.style;if(2>b.length||0!=b.lastIndexOf("--",0)){J||(J=Object.create(null));var g=J[b];if(!g){g=b;if(void 0===e[b]){var h=b.charAt(0).toUpperCase()+b.slice(1);b:{for(var m=0;m<K.length;m++){var n=K[m]+h;if(void 0!==e[n]){h=n;break b}}h=""}void 0!==e[h]&&(g=h)}J[b]=g}b=g}b&&(a.style[b]=d?c+d:c)};var M;function ha(a,b,c){var d=void 0,e=a,g=c;var h=function(a){try{return g(a)}catch(U){throw self.__AMP_REPORT_ERROR(U),U;}};var m=ia(),n=!1;d&&(n=d.capture);e.addEventListener(b,h,m?d:n);return function(){e&&e.removeEventListener(b,h,m?d:n);h=e=g=null}}function ia(){if(void 0!==M)return M;M=!1;try{var a={get capture(){M=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(b){}return M};function N(a,b,c){return ha(a,b,c)};function O(a){a=AMP.BaseElement.call(this,a)||this;a.l=a.win.document;a.A=null;a.G=null;a.B=null;a.W=null;a.da=null;a.J=null;a.ja=null;a.R=null;a.K=null;a.H=null;a.U=null;a.ba=null;a.ca=null;a.D=null;a.F=null;a.ya=null;a.$=null;a.Z=null;a.xa=null;a.va=a.element.hasAttribute("step-size")?Number(a.element.getAttribute("step-size"))||.1:.1;a.Ma=!a.element.hasAttribute("disable-hint-reappear");a.I=null;a.Da=w(a.win,"platform").isEdge();a.isEventRegistered=!1;return a}r(O,AMP.BaseElement);f=O.prototype;
f.buildCallback=function(){for(var a=this,b=this.getRealChildren(),c=0;c<b.length;c++){var d=b[c];"amp-img"===d.tagName.toLowerCase()?this.G?this.B?v().error("AMP-IMAGE-SLIDER","Should not contain more than 2 <amp-img>s."):this.B=d:this.G=d:"div"===d.tagName.toLowerCase()&&(d.hasAttribute("first")?this.da=d:d.hasAttribute("second")?this.ja=d:v().error("AMP-IMAGE-SLIDER",'Should not contain <div>s without "first" or "second" attributes.'))}ca(this.G&&this.B);var e=y(this.element);e.setOwner(this.G,
this.element);e.setOwner(this.B,this.element);this.A=this.l.createElement("div");this.A.classList.add("i-amphtml-image-slider-container");this.R=this.l.createElement("div");this.K=this.l.createElement("div");this.A.appendChild(this.R);this.A.appendChild(this.K);this.R.classList.add("i-amphtml-image-slider-left-mask");this.da&&(this.W=this.l.createElement("div"),this.W.classList.add("i-amphtml-image-slider-label-wrapper"),this.W.appendChild(this.da),this.R.appendChild(this.W));this.K.classList.add("i-amphtml-image-slider-right-mask");
this.K.classList.add("i-amphtml-image-slider-push-right");this.B.classList.add("i-amphtml-image-slider-push-left");this.ja&&(this.J=this.l.createElement("div"),this.J.classList.add("i-amphtml-image-slider-label-wrapper"),this.J.classList.add("i-amphtml-image-slider-push-left"),this.J.appendChild(this.ja),this.K.appendChild(this.J));this.H=this.l.createElement("div");this.U=this.l.createElement("div");this.H.appendChild(this.U);this.H.classList.add("i-amphtml-image-slider-bar");this.H.classList.add("i-amphtml-image-slider-push-right");
this.U.classList.add("i-amphtml-image-slider-bar-stick");this.U.classList.add("i-amphtml-image-slider-push-left");this.A.appendChild(this.H);ja(this);ka(this);this.registerAction("seekTo",function(b){var c=b.args;if(c&&void 0!==c.percent){var d=c.percent;v().assertNumber(d,"value to seek to must be a number");a.mutateElement(function(){P(a,d)})}},1);var g=this.element.getAttribute("initial-slider-position");return this.mutateElement(function(){a.element.appendChild(a.A);a.R.appendChild(a.G);a.K.appendChild(a.B);
if(g){var b=Number(g);P(a,b)}if(a.Da){var c=a.element,d={"touch-action":"pan-y"},e;for(e in d)L(c,e,d[e])}})};
function ja(a){a.D=a.l.createElement("div");a.D.classList.add("i-amphtml-image-slider-hint");a.F=a.l.createElement("div");a.F.classList.add("i-amphtml-image-slider-hint");var b=a.l.createElement("div");b.classList.add("i-amphtml-image-slider-hint-left-wrapper");var c=a.l.createElement("div");c.classList.add("i-amphtml-image-slider-hint-right-wrapper");a.ba=a.l.createElement("div");a.ba.classList.add("amp-image-slider-hint-left");a.ca=a.l.createElement("div");a.ca.classList.add("amp-image-slider-hint-right");
b.appendChild(a.ba);c.appendChild(a.ca);a.D.appendChild(b);a.F.appendChild(c)}
function ka(a){var b=a.G,c=a.B;b.signals().whenSignal("load-end").then(function(){if(0<b.childElementCount){var c=b.querySelector("img"),e;a.measureMutateElement(function(){var a=b.getAttribute("data-left-image-aria-suffix")||"left image";e=b.hasAttribute("alt")?b.getAttribute("alt")+", "+a:a},function(){c.setAttribute("alt",e)})}});c.signals().whenSignal("load-end").then(function(){if(0<c.childElementCount){var b=c.querySelector("img"),e;a.measureMutateElement(function(){var a=c.getAttribute("data-right-image-aria-suffix")||
"right image";e=c.hasAttribute("alt")?c.getAttribute("alt")+", "+a:a},function(){b.setAttribute("alt",e)})}})}function la(a){a.I||(a.I=fa(a.element),a.I.onGesture(I,function(b){b.data.first&&Q(a);R(a,b.data.startX+b.data.deltaX)}),a.I.onPointerDown(function(b){R(a,b.touches[0].pageX,!0);Q(a)}))}function ma(a){a.mutateElement(function(){a.D.classList.remove("i-amphtml-image-slider-hint-hidden");a.F.classList.remove("i-amphtml-image-slider-hint-hidden")})}
function Q(a){a.mutateElement(function(){a.D.classList.add("i-amphtml-image-slider-hint-hidden");a.F.classList.add("i-amphtml-image-slider-hint-hidden")})}f.Fa=function(a){a.preventDefault();R(this,a.pageX,!0);S(this.Z);S(this.$);this.Z=N(this.win,"mousemove",this.Ga.bind(this));this.$=N(this.win,"mouseup",this.Ha.bind(this));Q(this)};f.Ga=function(a){a.preventDefault();R(this,a.pageX)};f.Ha=function(a){a.preventDefault();S(this.Z);S(this.$)};
f.Ea=function(a){if(this.l.activeElement===this.element)switch(Q(this),a.key.toLowerCase()){case "left":case "arrowleft":a.preventDefault();a.stopPropagation();T(this);break;case "right":case "arrowright":a.preventDefault();a.stopPropagation();V(this);break;case "pageup":a.preventDefault();a.stopPropagation();T(this,!0);break;case "pagedown":a.preventDefault();a.stopPropagation();V(this,!0);break;case "home":a.preventDefault(),a.stopPropagation(),na(this)}};function S(a){a&&(a(),a=null)}
function W(a){a.isEventRegistered||(a.ya=N(a.element,"mousedown",a.Fa.bind(a)),a.xa=N(a.element,"keydown",a.Ea.bind(a)),la(a),a.isEventRegistered=!0)}function X(a){S(a.ya);S(a.Z);S(a.$);S(a.xa);a.I&&(a.I.cleanup(),a.I=null);a.isEventRegistered=!1}function Y(a){var b=a.H.getBoundingClientRect().left;a=a.getLayoutBox();var c=a.left,d=a.width;return(b-c)/d}
function T(a,b){if(!0===b)a.mutateElement(function(){P(a,0)});else{var c;a.measureMutateElement(function(){var b=Y(a)-a.va;c=Math.min(Math.max(b,0),1)},function(){P(a,c)})}}function na(a){a.mutateElement(function(){P(a,.5)})}function V(a,b){if(!0===b)a.mutateElement(function(){P(a,1)});else{var c;a.measureMutateElement(function(){var b=Y(a)+a.va;c=Math.min(Math.max(b,0),1)},function(){P(a,c)})}}
function R(a,b,c){c=void 0===c?!1:c;if(c)a.measureMutateElement(function(){var b=a.element.getBoundingClientRect();e=b.width;g=b.left;h=b.right},function(){P(a,(Math.min(Math.max(b,g),h)-g)/e)});else{var d=a.getLayoutBox();var e=d.width;var g=d.left;var h=d.right;var m=Math.min(Math.max(b,g),h),n=(m-g)/e;a.mutateElement(function(){P(a,n)})}}function P(a,b){b=Math.min(Math.max(b,0),1);Z(a.H,b);Z(a.K,b);Z(a.B,-b);var c=b-.5;Z(a.D,c);Z(a.F,c);a.J&&Z(a.J,-b)}
function Z(a,b){b={transform:"translateX("+100*b+"%)"};for(var c in b)L(a,c,b[c])}f.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a};
f.layoutCallback=function(){var a=this,b=y(this.element);b.scheduleLayout(this.element,this.G);b.scheduleLayout(this.element,this.B);W(this);return Promise.all([this.G.signals().whenSignal("load-end"),this.B.signals().whenSignal("load-end")]).then(function(){a.A.appendChild(a.D);a.A.appendChild(a.F)},function(){a.A.appendChild(a.D);a.A.appendChild(a.F)})};f.unlayoutCallback=function(){X(this);return!0};f.pauseCallback=function(){X(this)};f.resumeCallback=function(){W(this)};
f.viewportCallback=function(a){a&&this.Ma&&ma(this)};(function(a){a.registerElement("amp-image-slider",O,".i-amphtml-image-slider-container{position:absolute!important;top:0!important;right:0!important;bottom:0!important;left:0!important;transform:translateZ(0)!important;-webkit-tap-highlight-color:rgba(0,0,0,0)}.i-amphtml-image-slider-left-mask,.i-amphtml-image-slider-right-mask{position:absolute!important;top:0!important;right:0!important;bottom:0!important;left:0!important;overflow:hidden!important}.i-amphtml-image-slider-right-mask{z-index:1!important}amp-image-slider amp-img>img{-o-object-fit:cover;object-fit:cover}.i-amphtml-image-slider-push-left{transform:translateX(-50%)}.i-amphtml-image-slider-push-right{transform:translateX(50%)}.i-amphtml-image-slider-bar{direction:ltr!important;position:absolute!important;top:0!important;right:0!important;bottom:0!important;left:0!important;z-index:3!important}.i-amphtml-image-slider-bar-stick{width:20%!important;height:100%!important;cursor:col-resize!important}.i-amphtml-image-slider-bar-stick:before{content:\"\"!important;position:absolute!important;display:block!important;top:0!important;left:50%!important;bottom:0!important;border:0.5px solid #fff!important;box-sizing:border-box!important;opacity:0.5!important;transform:translate(-50%)!important}.i-amphtml-image-slider-label-wrapper{position:absolute!important;top:0!important;right:0!important;bottom:0!important;left:0!important;z-index:1!important}.i-amphtml-image-slider-label-wrapper>[first],.i-amphtml-image-slider-label-wrapper>[second]{position:absolute!important}.i-amphtml-image-slider-hint-hidden{opacity:0;transition:opacity 0.4s linear}.i-amphtml-image-slider-hint{position:absolute!important;top:0!important;right:0!important;bottom:0!important;left:0!important;z-index:2;transition:opacity 0.4s ease-in}.i-amphtml-image-slider-hint-left-wrapper{right:50%!important}.i-amphtml-image-slider-hint-left-wrapper,.i-amphtml-image-slider-hint-right-wrapper{position:absolute!important;height:100%!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-direction:column!important;flex-direction:column!important;-ms-flex-pack:center!important;justify-content:center!important}.i-amphtml-image-slider-hint-right-wrapper{left:50%!important}.amp-image-slider-hint-left{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 28 8'%3E%3Cpath d='M4 5h12V3H4V0L0 4l4 4z' fill='%23fff'/%3E%3C/svg%3E\")}.amp-image-slider-hint-left,.amp-image-slider-hint-right{background-size:56px 16px;width:56px;height:16px;filter:drop-shadow(3px 3px 4px black)}.amp-image-slider-hint-right{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 28 8'%3E%3Cpath d='M24 5H12V3h12V0l4 4-4 4z' fill='%23fff'/%3E%3C/svg%3E\")}\n/*# sourceURL=/extensions/amp-image-slider/0.1/amp-image-slider.css*/")})(self.AMP);
})});

//# sourceMappingURL=amp-image-slider-0.1.js.map
