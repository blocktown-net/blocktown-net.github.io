(self.AMP=self.AMP||[]).push({n:"amp-call-tracking",v:"1910151804560",f:(function(AMP,_){
var l="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},m;if("function"==typeof Object.setPrototypeOf)m=Object.setPrototypeOf;else{var p;a:{var q={a:!0},r={};try{r.__proto__=q;p=r.a;break a}catch(a){}p=!1}m=p?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var t=m;function u(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(g){return b}};var v=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function w(a){var b=Object.create(null);if(!a)return b;for(var g;g=v.exec(a);){var e=u(g[1],g[1]),d=g[2]?u(g[2].replace(/\+/g," "),g[2]):"";b[e]=d}return b};var x="";self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var y=self.__AMP_LOG;function A(){if(!y.user)throw Error("failed to call initLogConstructor");return y.user}function B(){if(y.dev)return y.dev;throw Error("failed to call initLogConstructor");};function C(){var a=100;this.w=a;this.j=this.m=0;this.h=Object.create(null)}C.prototype.has=function(a){return!!this.h[a]};C.prototype.get=function(a){var b=this.h[a];if(b)return b.access=++this.j,b.payload};C.prototype.put=function(a,b){this.has(a)||this.m++;this.h[a]={payload:b,access:this.j};if(!(this.m<=this.w)){B().warn("lru-cache","Trimming LRU cache");a=this.h;var g=this.j+1,e;for(e in a){var d=a[e].access;if(d<g){g=d;var c=e}}void 0!==c&&(delete a[c],this.m--)}};(function(a){return a||{}})({c:!0,v:!0,a:!0,ad:!0,action:!0});var D,E;function F(a){var b="";try{"localStorage"in a&&(b=a.localStorage.getItem("amp-experiment-toggles"))}catch(d){B().warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}var g=b?b.split(/\s*,\s*/g):[];a=Object.create(null);for(var e=0;e<g.length;e++)0!=g[e].length&&("-"==g[e][0]?a[g[e].substr(1)]=!1:a[g[e]]=!0);return a};function G(a){var b=a.ownerDocument.defaultView,g=b.__AMP_TOP||(b.__AMP_TOP=b),e=b!=g;var d=g;if(d.__AMP__EXPERIMENT_TOGGLES)var c=d.__AMP__EXPERIMENT_TOGGLES;else{d.__AMP__EXPERIMENT_TOGGLES=Object.create(null);c=d.__AMP__EXPERIMENT_TOGGLES;if(d.AMP_CONFIG)for(var f in d.AMP_CONFIG){var h=d.AMP_CONFIG[f];"number"===typeof h&&0<=h&&1>=h&&(c[f]=Math.random()<h)}if(d.AMP_CONFIG&&Array.isArray(d.AMP_CONFIG["allow-doc-opt-in"])&&0<d.AMP_CONFIG["allow-doc-opt-in"].length&&(f=d.AMP_CONFIG["allow-doc-opt-in"],
h=d.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){h=h.getAttribute("content").split(",");for(var k=0;k<h.length;k++)-1!=f.indexOf(h[k])&&(c[h[k]]=!0)}Object.assign(c,F(d));if(d.AMP_CONFIG&&Array.isArray(d.AMP_CONFIG["allow-url-opt-in"])&&0<d.AMP_CONFIG["allow-url-opt-in"].length)for(f=d.AMP_CONFIG["allow-url-opt-in"],d=w(d.location.originalHash||d.location.hash),h=0;h<f.length;h++)k=d["e-"+f[h]],"1"==k&&(c[f[h]]=!0),"0"==k&&(c[f[h]]=!1)}var z=!!c["ampdoc-fie"];e&&!z?a=H(b,"url-replace")?
I(b,"url-replace"):null:(a=J(a),a=J(a),a=a.isSingleDoc()?a.win:a,a=H(a,"url-replace")?I(a,"url-replace"):null);return a}function K(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return I(a,b)}function J(a){return a.nodeType?K((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function I(a,b){H(a,b);var g=a.__AMP_SERVICES;g||(g=a.__AMP_SERVICES={});var e=g;a=e[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}
function H(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var M={};function N(a,b){b in M||(M[b]=K(a,"xhr").fetchJson(b,{credentials:"include"}).then(function(a){return a.json()}));return M[b]}function O(a){a=AMP.BaseElement.call(this,a)||this;a.l=null;a.o=null;return a}var P=AMP.BaseElement;O.prototype=l(P.prototype);O.prototype.constructor=O;if(t)t(O,P);else for(var Q in P)if("prototype"!=Q)if(Object.defineProperties){var R=Object.getOwnPropertyDescriptor(P,Q);R&&Object.defineProperty(O,Q,R)}else O[Q]=P[Q];O.A=P.prototype;
O.prototype.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a||"container"==a};
O.prototype.buildCallback=function(){var a=this.element.getAttribute("config"),b=this.element;var g=void 0===g?"source":g;var e=null!=a;A().assert(e,"%s %s must be available",b,g,void 0,void 0,void 0,void 0,void 0,void 0,void 0);e=a;if("string"==typeof e){D||(D=self.document.createElement("a"),E=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new C));var d=E,c=D;if(d&&d.has(e))e=d.get(e);else{c.href=e;c.protocol||(c.href=c.href);var f={href:c.href,protocol:c.protocol,host:c.host,hostname:c.hostname,port:"0"==
c.port?"":c.port,pathname:c.pathname,search:c.search,hash:c.hash,origin:null};"/"!==f.pathname[0]&&(f.pathname="/"+f.pathname);if("http:"==f.protocol&&80==f.port||"https:"==f.protocol&&443==f.port)f.port="",f.host=f.hostname;f.origin=c.origin&&"null"!=c.origin?c.origin:"data:"!=f.protocol&&f.host?f.protocol+"//"+f.host:f.href;c=self;if(c.__AMP_MODE)c=c.__AMP_MODE;else{var h=self.AMP_CONFIG||{};var k=!!h.test||!(!c.__AMP_TEST&&!c.__karma__);var z=c.__karma__&&c.__karma__.config.amp.testOnIe,L=!!h.localDev||
k,n=w(c.location.originalHash||c.location.hash);h=h.spt;var S=w(c.location.search);x||(x=L?"1910151804560":c.AMP_CONFIG&&c.AMP_CONFIG.v?c.AMP_CONFIG.v:"011910151804560");k={localDev:L,development:!!(0<=["1","actions","amp","amp4ads","amp4email"].indexOf(n.development)||c.AMP_DEV_MODE),examiner:"2"==n.development,filter:n.filter,geoOverride:n["amp-geo"],userLocationOverride:n["amp-user-location"],minified:!0,lite:void 0!=S.amp_lite,test:k,testIe:z,log:n.log,version:"1910151804560",rtvVersion:x,singlePassType:h};
c=c.__AMP_MODE=k}f=c.test&&Object.freeze?Object.freeze(f):f;d&&d.put(e,f);e=f}}(d="https:"==e.protocol||"localhost"==e.hostname||"127.0.0.1"==e.hostname)||(e=e.hostname,d=e.length-10,d=0<=d&&e.indexOf(".localhost",d)==d);e=d||/^(\/\/)/.test(a);A().assert(e,'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',b,g,a,void 0,void 0,void 0,void 0,void 0,void 0);this.o=a;this.l=this.element.firstElementChild};
O.prototype.layoutCallback=function(){var a=this;return G(this.element).expandUrlAsync(A().assertString(this.o)).then(function(b){return N(a.win,b)}).then(function(b){b.phoneNumber?(a.l.setAttribute("href","tel:"+b.phoneNumber),a.l.textContent=b.formattedPhoneNumber||b.phoneNumber):A().warn("amp-call-tracking","Response does not contain a phoneNumber field %s. Call tracking was not applied.",a.element)})};(function(a){a.registerElement("amp-call-tracking",O)})(self.AMP);
})});

//# sourceMappingURL=amp-call-tracking-0.1.js.map
