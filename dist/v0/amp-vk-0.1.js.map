{"version":3,"sources":["http://localhost:8000/src/internal-version.js","http:/localhost:8000/ [synthetic:util/objectcreate] ","http:/localhost:8000/ [synthetic:es6/util/setprototypeof] ","http://localhost:8000/src/log.js","http://localhost:8000/src/utils/object.js","http://localhost:8000/src/url.js","http://localhost:8000/src/types.js","http://localhost:8000/src/service.js","http://localhost:8000/src/services.js","http://localhost:8000/src/event-helper-listen.js","http://localhost:8000/src/event-helper.js","http://localhost:8000/extensions/amp-vk/0.1/amp-vk.js","http:/localhost:8000/ [synthetic:es6/util/inherits] ","http://localhost:8000/src/layout.js","http://localhost:8000/src/dom.js"],"names":["$jscomp.objectCreate","$jscomp.setPrototypeOf","self","__AMP_LOG","user","dev","userForEmbed","logs","Error","userAssert","shouldBeTrueish","opt_message","opt_1","assert","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","dict","opt_initial","appendEncodedParamStringToUrl","url","paramString","opt_addToFront","mainAndFragment","split","mainAndQuery","newUrl","serializeQueryString","params","s","k","v","Array","isArray","i","length","sv","push","encodeURIComponent","join","getServiceForDoc","elementOrAmpDoc","ampdoc","getAmpdoc","isSingleDoc","win","getServiceInternal","holder","id","nodeOrDoc","nodeType","__AMP_TOP","services","__AMP_SERVICES","obj","ctor","context","resolve","optsSupported","internalListenImplementation","element","listener","opt_evtListenerOpts","localElement","localListener","wrapped","event","e","__AMP_REPORT_ERROR","detectEvtListenerOptsSupport","capture","addEventListener","eventType","removeEventListener","undefined","options","err","listen","EmbedType","POST","POLL","constructor","AmpVk","iframe_","widgetHeight_","unlistenMessage_","embedType_","ownerId_","postId_","hash_","apiId_","pollId_","BaseElement","AMP","preconnectCallback","?.prototype","opt_onLayout","preconnect","getIFrameSrc_","createdTime","Date","now","toString","iframeSrcPromise","getVkPostIFrameSrc_","getVkPollIFrameSrc_","then","iframeSrc","getReferrerUrl","ref","startWidth","offsetWidth","pageUrl","getAmpDoc","getUrl","iframeUrl","queryParams","buildCallback","getAttribute","assertEnumValue","postBuildCallback_","pollBuildCallback_","layoutCallback","iframe","ownerDocument","createElement","handleVkIframeMessage_","bind","src","setAttribute","applyFillContent","appendChild","loadPromise","origin","source","contentWindow","eventData","data","regExp","matches","exec","newHeight","parseInt","changeHeight","isLayoutSupported","layout","RESPONSIVE","FLEX_ITEM","FIXED","unlayoutOnPause","unlayoutCallback","parentElement","removeChild","registerElement"],"mappings":"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","file":"amp-vk-0.1.js","sourcesContent":[]}