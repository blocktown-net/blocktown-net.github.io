(self.AMP=self.AMP||[]).push({n:"amp-form",v:"1910151804560",f:(function(AMP,_){
var m,aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ba;if("function"==typeof Object.setPrototypeOf)ba=Object.setPrototypeOf;else{var ca;a:{var da={a:!0},ea={};try{ea.__proto__=da;ca=ea.a;break a}catch(a){}ca=!1}ba=ca?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var fa=ba;
function n(a,b){a.prototype=aa(b.prototype);a.prototype.constructor=a;if(fa)fa(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.Ua=b.prototype};function ha(){var a,b;this.promise=new Promise(function(c,d){a=c;b=d});this.resolve=a;this.reject=b}function ia(a){return new Promise(function(b){b(a())})}function ja(){var a,b,c;this.ta=new Promise(function(a,d){b=a;c=d});this.La=b;this.Ka=c;this.ga=0;if(a)for(var d=0;d<a.length;d++)this.add(a[d])}ja.prototype.add=function(a){var b=this,c=++this.ga;Promise.resolve(a).then(function(a){b.ga===c&&b.La(a)},function(a){b.ga===c&&b.Ka(a)});return this.ta};
ja.prototype.then=function(a,b){return this.ta.then(a,b)};function ka(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(c){return b}};var la=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function p(a){var b=Object.create(null);if(!a)return b;for(var c;c=la.exec(a);){var d=ka(c[1],c[1]),e=c[2]?ka(c[2].replace(/\+/g," "),c[2]):"";b[d]=e}return b};var ma="";
function q(){var a,b=a||self;if(b.__AMP_MODE)var c=b.__AMP_MODE;else{c=b;var d=self.AMP_CONFIG||{},e=!!d.test||!(!c.__AMP_TEST&&!c.__karma__),f=c.__karma__&&c.__karma__.config.amp.testOnIe,h=!!d.localDev||e,g=p(c.location.originalHash||c.location.hash);d=d.spt;var k=p(c.location.search);ma||(ma=h?"1910151804560":c.AMP_CONFIG&&c.AMP_CONFIG.v?c.AMP_CONFIG.v:"011910151804560");c={localDev:h,development:!!(0<=["1","actions","amp","amp4ads","amp4email"].indexOf(g.development)||c.AMP_DEV_MODE),examiner:"2"==
g.development,filter:g.filter,geoOverride:g["amp-geo"],userLocationOverride:g["amp-user-location"],minified:!0,lite:void 0!=k.amp_lite,test:e,testIe:f,log:g.log,version:"1910151804560",rtvVersion:ma,singlePassType:d};c=b.__AMP_MODE=c}return c};var na=Object.prototype.toString;function oa(a){return a?Array.prototype.slice.call(a):[]};var r=self.AMP_CONFIG||{},pa={thirdParty:r.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:r.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof r.thirdPartyFrameRegex?new RegExp(r.thirdPartyFrameRegex):r.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:r.cdnUrl||"https://cdn.ampproject.org",cdnProxyRegex:("string"==typeof r.cdnProxyRegex?new RegExp(r.cdnProxyRegex):r.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,
errorReporting:r.errorReportingUrl||"https://amp-error-reporting.appspot.com/r",localDev:r.localDev||!1,trustedViewerHosts:[/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/,/(^|\.)gmail\.dev$/]};self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var t=self.__AMP_LOG;function u(){if(!t.user)throw Error("failed to call initLogConstructor");return t.user}function w(){if(t.dev)return t.dev;throw Error("failed to call initLogConstructor");}function x(a,b,c,d){u().assert(a,b,c,d,void 0,void 0,void 0,void 0,void 0,void 0,void 0)};var qa=Object.prototype.hasOwnProperty;function y(){var a,b=Object.create(null);a&&Object.assign(b,a);return b}function z(a){return a||{}}
function ra(a,b){var c=void 0===c?10:c;var d=[],e=[];e.push({t:a,s:b,d:0});for(a={};0<e.length;){b=e.shift();a.G=b.t;a.B=b.s;a.V=b.d;if(d.includes(a.B))throw Error("Source object has a circular reference.");d.push(a.B);a.G!==a.B&&(a.V>c?Object.assign(a.G,a.B):Object.keys(a.B).forEach(function(a){return function(b){var c=a.B[b];if(qa.call(a.G,b)){var d=a.G[b];if("[object Object]"===na.call(c)&&"[object Object]"===na.call(d)){e.push({t:d,s:c,d:a.V+1});return}}a.G[b]=c}}(a)));a={B:a.B,G:a.G,V:a.V}}}
;function sa(){var a=100;this.Ga=a;this.fa=this.ma=0;this.Y=Object.create(null)}sa.prototype.has=function(a){return!!this.Y[a]};sa.prototype.get=function(a){var b=this.Y[a];if(b)return b.access=++this.fa,b.payload};sa.prototype.put=function(a,b){this.has(a)||this.ma++;this.Y[a]={payload:b,access:this.fa};if(!(this.ma<=this.Ga)){w().warn("lru-cache","Trimming LRU cache");a=this.Y;var c=this.fa+1,d;for(d in a){var e=a[d].access;if(e<c){c=e;var f=d}}void 0!==f&&(delete a[f],this.ma--)}};function ta(a,b){return b.length>a.length?!1:0==a.lastIndexOf(b,0)};var ua=z({c:!0,v:!0,a:!0,ad:!0,action:!0}),va,wa,xa=/[?&]amp_js[^&]*/,ya=/[?&]amp_gsa[^&]*/,za=/[?&]amp_r[^&]*/,Aa=/[?&]amp_kit[^&]*/,Ba=/[?&]usqp[^&]*/;
function A(a){var b;va||(va=self.document.createElement("a"),wa=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new sa));var c=b?null:wa,d=va;if(c&&c.has(a))a=c.get(a);else{d.href=a;d.protocol||(d.href=d.href);var e={href:d.href,protocol:d.protocol,host:d.host,hostname:d.hostname,port:"0"==d.port?"":d.port,pathname:d.pathname,search:d.search,hash:d.hash,origin:null};"/"!==e.pathname[0]&&(e.pathname="/"+e.pathname);if("http:"==e.protocol&&80==e.port||"https:"==e.protocol&&443==e.port)e.port="",e.host=
e.hostname;e.origin=d.origin&&"null"!=d.origin?d.origin:"data:"!=e.protocol&&e.host?e.protocol+"//"+e.host:e.href;d=q().test&&Object.freeze?Object.freeze(e):e;c&&c.put(a,d);a=d}return a}function Ca(a,b,c){if(!b)return a;var d=a.split("#",2),e=d[0].split("?",2),f=e[0]+(e[1]?c?"?"+b+"&"+e[1]:"?"+e[1]+"&"+b:"?"+b);return f+=d[1]?"#"+d[1]:""}
function Da(a){var b=[],c;for(c in a){var d=a[c];if(null!=d)if(Array.isArray(d))for(var e=0;e<d.length;e++){var f=d[e];b.push(encodeURIComponent(c)+"="+encodeURIComponent(f))}else e=d,b.push(encodeURIComponent(c)+"="+encodeURIComponent(e))}return b.join("&")};function Ea(a){var b="";try{"localStorage"in a&&(b=a.localStorage.getItem("amp-experiment-toggles"))}catch(e){w().warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}var c=b?b.split(/\s*,\s*/g):[];a=Object.create(null);for(var d=0;d<c.length;d++)0!=c[d].length&&("-"==c[d][0]?a[c[d].substr(1)]=!1:a[c[d]]=!0);return a};function B(a,b){var c=a.ownerDocument.defaultView,d=c.__AMP_TOP||(c.__AMP_TOP=c),e=c!=d;var f=d;if(f.__AMP__EXPERIMENT_TOGGLES)var h=f.__AMP__EXPERIMENT_TOGGLES;else{f.__AMP__EXPERIMENT_TOGGLES=Object.create(null);h=f.__AMP__EXPERIMENT_TOGGLES;if(f.AMP_CONFIG)for(var g in f.AMP_CONFIG){var k=f.AMP_CONFIG[g];"number"===typeof k&&0<=k&&1>=k&&(h[g]=Math.random()<k)}if(f.AMP_CONFIG&&Array.isArray(f.AMP_CONFIG["allow-doc-opt-in"])&&0<f.AMP_CONFIG["allow-doc-opt-in"].length&&(g=f.AMP_CONFIG["allow-doc-opt-in"],
k=f.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){k=k.getAttribute("content").split(",");for(var l=0;l<k.length;l++)-1!=g.indexOf(k[l])&&(h[k[l]]=!0)}Object.assign(h,Ea(f));if(f.AMP_CONFIG&&Array.isArray(f.AMP_CONFIG["allow-url-opt-in"])&&0<f.AMP_CONFIG["allow-url-opt-in"].length)for(g=f.AMP_CONFIG["allow-url-opt-in"],f=p(f.location.originalHash||f.location.hash),k=0;k<g.length;k++)l=f["e-"+g[k]],"1"==l&&(h[g[k]]=!0),"0"==l&&(h[g[k]]=!1)}var v=!!h["ampdoc-fie"];e&&!v?b=Fa(c,
b)?C(c,b):null:(a=D(a),a=E(a),b=Fa(a,b)?C(a,b):null);return b}function F(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return C(a,b)}function G(a,b){var c=D(a);c=E(c);return C(c,b)}function Ga(a,b){return Ha(E(a),b)}function D(a){return a.nodeType?F((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function E(a){a=D(a);return a.isSingleDoc()?a.win:a}function C(a,b){Fa(a,b);var c=Ia(a);a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}
function Ja(a,b){var c=Ha(a,b);if(c)return c;a=Ia(a);a[b]=Ka();return a[b].promise}function Ha(a,b){var c=Ia(a)[b];if(c){if(c.promise)return c.promise;C(a,b);return c.promise=Promise.resolve(c.obj)}return null}function Ia(a){var b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});return b}function Fa(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)}
function Ka(){var a=new ha,b=a,c=b.promise,d=b.resolve;b=b.reject;c.catch(function(){});return{obj:null,promise:c,resolve:d,reject:b,context:null,ctor:null}};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var La=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function Ma(a,b,c,d,e){return e?e:b?"\ufffd":d?a.slice(0,-1)+"\\"+a.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+a};var Na;function Oa(a,b){for(var c=[],d=a.parentElement;d;d=d.parentElement)b(d)&&c.push(d);return c}function Pa(a){var b="fieldset";/^[\w-]+$/.test(b);b=b.toUpperCase();return Oa(a,function(a){return a.tagName==b})}function H(a,b){for(var c=a.length,d=0;d<c;d++)b(a[d],d)};function Qa(a,b,c){var d=Ga(a,b);if(d)return d;var e=D(a);return e.waitForBodyOpen().then(function(){var a=e.win;var b=e.win.document.head;if(b){var d={};b=b.querySelectorAll("script[custom-element],script[custom-template]");for(var k=0;k<b.length;k++){var l=b[k];l=l.getAttribute("custom-element")||l.getAttribute("custom-template");d[l]=!0}d=Object.keys(d)}else d=[];a=d.includes(c)?F(a,"extensions").waitForExtension(a,c):Promise.resolve();return a}).then(function(){var d=e.win;return d.__AMP_EXTENDED_ELEMENTS&&
d.__AMP_EXTENDED_ELEMENTS[c]?Ja(E(a),b):null})};function I(a){return G(a,"resources")};var Ra,Sa="Webkit webkit Moz moz ms O o".split(" ");function Ta(a,b,c){var d;var e=a.style;if(!ta(b,"--")){Ra||(Ra=y());var f=Ra[b];if(!f){f=b;if(void 0===e[b]){var h=b.charAt(0).toUpperCase()+b.slice(1);b:{for(var g=0;g<Sa.length;g++){var k=Sa[g]+h;if(void 0!==e[k]){h=k;break b}}h=""}void 0!==e[h]&&(f=h)}Ra[b]=f}b=f}b&&(a.style[b]=d?c+d:c)}function Ua(a,b){void 0===b&&(b=a.hasAttribute("hidden"));b?a.removeAttribute("hidden"):a.setAttribute("hidden","")};var J;function Va(a,b,c){var d=void 0,e=a,f=c;var h=function(a){try{return f(a)}catch(v){throw self.__AMP_REPORT_ERROR(v),v;}};var g=Wa(),k=!1;d&&(k=d.capture);e.addEventListener(b,h,g?d:k);return function(){e&&e.removeEventListener(b,h,g?d:k);h=e=f=null}}function Wa(){if(void 0!==J)return J;J=!1;try{var a={get capture(){J=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(b){}return J};function K(a,b,c,d){var e={detail:c};Object.assign(e,d);if("function"==typeof a.CustomEvent)return new a.CustomEvent(b,e);a=a.document.createEvent("CustomEvent");a.initCustomEvent(b,!!e.bubbles,!!e.cancelable,c);return a}function Xa(a,b,c){return Va(a,b,c)}function Ya(a,b){var c=b,d=Va(a,"mouseup",function(a){try{c(a)}finally{c=null,d()}});return d}function Za(a){var b,c,d=new Promise(function(b){c=Ya(a,b)});d.then(c,c);b&&b(c);return d};function ab(a,b){function c(c){h=null;f=a.setTimeout(d,e);b.apply(null,c)}function d(){f=0;h&&c(h)}var e=100,f=0,h=null;return function(a){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];f?h=b:c(b)}};function bb(a){var b=a.getRootNode();this.Ha=b.ownerDocument||b;this.j=this.Ha.defaultView;this.oa=G(a,"viewport");this.R=[];this.R.push(Xa(b,"input",function(a){a=a.target;"TEXTAREA"==a.tagName&&a.hasAttribute("autoexpand")&&cb(a)}));this.R.push(Xa(b,"mousedown",function(a){1==a.which&&(a=a.target,"TEXTAREA"==a.tagName&&db(a))}));var c=b.querySelectorAll("textarea");this.R.push(Xa(b,"amp:dom-update",function(){c=b.querySelectorAll("textarea")}));var d=ab(this.j,function(a){a.relayoutAll&&eb(c)});
this.R.push(this.oa.onResize(d));fb(c)}function gb(a){function b(){var b=c.querySelector("textarea[autoexpand]");b&&!d?d=new bb(a):!b&&d&&(d.dispose(),d=null)}var c=a.getRootNode(),d=null;Va(c,"amp:dom-update",b);b()}bb.prototype.dispose=function(){this.R.forEach(function(a){return a()})};
function fb(a){Promise.all(oa(a).map(function(a){return hb(a).then(function(b){b&&(u().warn("AMP-FORM",'"textarea[autoexpand]" with initially scrolling content will not autoexpand.\nSee https://github.com/ampproject/amphtml/issues/20839'),a.removeAttribute("autoexpand"))})}))}function hb(a){var b=I(a);return b.measureElement(function(){return a.scrollHeight>a.clientHeight})}function eb(a){H(a,function(a){"TEXTAREA"==a.tagName&&a.hasAttribute("autoexpand")&&cb(a)})}
function db(a){var b=I(a);Promise.all([b.measureElement(function(){return a.scrollHeight}),Za(a)]).then(function(c){var d=c[0],e=0;return b.measureMutateElement(a,function(){e=a.scrollHeight},function(){d!=e&&a.removeAttribute("autoexpand")})})}
function cb(a){var b=I(a),c=a.ownerDocument.defaultView,d=0,e=0,f=0,h=ib(a);b.measureMutateElement(a,function(){var b=c.getComputedStyle(a)||y();e=a.scrollHeight;var k=parseInt(b.getPropertyValue("max-height"),10);f=isNaN(k)?Infinity:k;d="content-box"==b.getPropertyValue("box-sizing")?-parseInt(b.getPropertyValue("padding-top"),10)+-parseInt(b.getPropertyValue("padding-bottom"),10):parseInt(b.getPropertyValue("border-top-width"),10)+parseInt(b.getPropertyValue("border-bottom-width"),10)},function(){return h.then(function(b){a.classList.toggle("i-amphtml-textarea-max",
b+d>f);var c="iAmphtmlHasExpanded"in a.dataset,h=c||e<=b;h&&(a.dataset.iAmphtmlHasExpanded="",Ta(a,"height",b+d+"px"))})})}
function ib(a){var b=a.ownerDocument,c=b.defaultView,d=b.body,e=I(a),f=a.cloneNode(!1);f.classList.add("i-amphtml-textarea-clone");var h=0,g=0,k=!1;return e.measureMutateElement(d,function(){var b=c.getComputedStyle(a)||y(),d=parseInt(b.getPropertyValue("max-height"),10);h=parseInt(b.getPropertyValue("width"),10);k=isNaN(d)||a.scrollHeight<d},function(){k&&(a.scrollTop=0);Ta(f,"width",h+"px");b.body.appendChild(f)}).then(function(){return e.measureMutateElement(d,function(){g=f.scrollHeight},function(){var a=
f;a.parentElement&&a.parentElement.removeChild(a)})}).then(function(){return g})};function L(a){for(var b=a.elements,c={},d=/^(?:input|select|textarea)$/i,e=/^(?:submit|button|image|file|reset)$/i,f=/^(?:checkbox|radio)$/i,h={},g=0;g<b.length;h={F:h.F},g++){var k=b[g],l=k,v=l.checked;h.F=l.name;var ac=l.multiple,bc=l.options,cc=l.tagName,$a=l.type;l=l.value;!h.F||jb(k)||!d.test(cc)||e.test($a)||f.test($a)&&!v||(void 0===c[h.F]&&(c[h.F]=[]),ac?H(bc,function(a){return function(b){b.selected&&c[a.F].push(b.value)}}(h)):c[h.F].push(l))}var Q=kb(a);Q&&Q.name&&(a=Q.name,void 0===c[a]&&
(c[a]=[]),c[Q.name].push(Q.value));Object.keys(c).forEach(function(a){0==c[a].length&&delete c[a]});return c}function kb(a){var b=a.elements,c=b.length,d=a.ownerDocument.activeElement,e=null;for(a=0;a<c;a++){var f=b[a],h=f.type;if("BUTTON"==f.tagName||"submit"==h)if(e||(e=f),d==f)return d}return e}function jb(a){if(a.disabled)return!0;a=Pa(a);for(var b=0;b<a.length;b++)if(a[b].disabled)return!0;return!1}
function lb(a){switch(a.type){case "select-multiple":case "select-one":a=a.options;for(var b=0;b<a.length;b++)if(a[b].selected!==a[b].defaultSelected)return!1;break;case "checkbox":case "radio":return a.checked===a.defaultChecked;default:return a.value===a.defaultValue}return!0};function mb(a,b){return a.hasAttribute("verify-xhr")?new nb(a,b):new ob(a)}function M(a){this.h=a}M.prototype.onCommit=function(){pb(this);a:{var a=this.h.elements;for(var b=0;b<a.length;b++){var c=a[b];if(!c.disabled&&!lb(c)){a=!0;break a}}a=!1}return a?this.ya():Promise.resolve({updatedElements:[],errors:[]})};M.prototype.ya=function(){return Promise.resolve({updatedElements:[],errors:[]})};function pb(a){(a=a.h.elements)&&H(a,function(a){a.setCustomValidity("")})}
function ob(){M.apply(this,arguments)}n(ob,M);function nb(a,b){this.h=a;this.$=b;this.U=null;this.sa=[]}n(nb,M);nb.prototype.ya=function(){var a=this,b=this.$().then(function(){return[]},function(a){return qb(a)});return rb(this,b).then(function(b){return sb(a,b)})};function rb(a,b){if(!a.U){a.U=new ja;var c=function(){return a.U=null};a.U.then(c,c)}return a.U.add(b)}
function sb(a,b){function c(a){return b.every(function(b){return a.name!==b.name})}var d=[],e=a.sa;a.sa=b;for(var f=0;f<b.length;f++){var h=b[f],g=u().assertString(h.name,"Verification errors must have a name property");h=u().assertString(h.message,"Verification errors must have a message property");g=u().assertElement(a.h.querySelector('[name="'+g+'"]'),"Verification error name property must match a field name");g.checkValidity()&&(g.setCustomValidity(h),d.push(g))}var k=e.filter(c).map(function(b){return a.h.querySelector('[name="'+
b.name+'"]')});return{updatedElements:d.concat(k),errors:b}}function qb(a){return(a=a.response)?a.json().then(function(a){return a.verifyErrors||[]},function(){return[]}):Promise.resolve([])};function tb(a,b){var c=F(a,"platform");return c.isIos()&&11==c.getMajorVersion()?new ub(b):FormData.prototype.entries&&FormData.prototype.delete?new N(b):new O(b)}function O(a){this.C=a?L(a):y()}O.prototype.append=function(a,b){var c=String(a);this.C[c]=this.C[c]||[];this.C[c].push(String(b))};O.prototype.delete=function(a){delete this.C[a]};
O.prototype.entries=function(){var a=this,b=[];Object.keys(this.C).forEach(function(c){a.C[c].forEach(function(a){return b.push([c,a])})});var c=0;return{next:function(){return c<b.length?{value:b[c++],done:!1}:{value:void 0,done:!0}}}};O.prototype.getFormData=function(){var a=this,b=new FormData;Object.keys(this.C).forEach(function(c){a.C[c].forEach(function(a){return b.append(c,a)})});return b};function N(a){this.D=new FormData(a);a&&(a=kb(a))&&a.name&&this.append(a.name,a.value)}
N.prototype.append=function(a,b){this.D.append(a,b)};N.prototype.delete=function(a){this.D.delete(a)};N.prototype.entries=function(){return this.D.entries()};N.prototype.getFormData=function(){return this.D};function ub(a){N.call(this,a);var b=this;a&&H(a.elements,function(a){"file"==a.type&&0==a.files.length&&(b.D.delete(a.name),b.D.append(a.name,new Blob([]),""))})}n(ub,N);
ub.prototype.append=function(a,b,c){b&&"object"==typeof b&&""==b.name&&0==b.size?this.D.append(a,new Blob([]),c||""):this.D.append(a,b)};var vb={INPUT:!0,SELECT:!0,TEXTAREA:!0};function wb(a,b){this.h=a;this.j=b;this.O=0;this.K=y();this.na=null;this.Aa=this.ba=!1;this.la();for(a=0;a<this.h.elements.length;++a)xb(this,this.h.elements[a]);P(this)}m=wb.prototype;m.onSubmitting=function(){this.ba=!0;P(this)};m.onSubmitError=function(){this.ba=!1;P(this)};m.onSubmitSuccess=function(){this.ba=!1;this.na=tb(this.j,this.h).getFormData();this.K=y();this.O=0;P(this)};
function P(a){var b=0<a.O&&!a.ba;if(b!==a.Aa){a.h.classList.toggle("amp-form-dirty",b);var c=K(a.j,"amp:form-dirtiness-change",z({isDirty:b}),{bubbles:!0});a.h.dispatchEvent(c)}a.Aa=b}m.la=function(){this.h.addEventListener("input",this.ra.bind(this));this.h.addEventListener("reset",this.Ja.bind(this));this.h.addEventListener("amp:form-value-change",this.ra.bind(this))};m.ra=function(a){xb(this,a.target);P(this)};m.Ja=function(){this.K=y();this.O=0;P(this)};
function xb(a,b){var c=b.hidden;if(vb[b.tagName]&&b.name&&!c&&!jb(b)){a:switch(b.tagName){case "INPUT":c="checkbox"==b.type||"radio"==b.type?!b.checked:!b.value;break a;case "TEXTAREA":c=!b.value;break a;case "SELECT":c=!1;break a;default:throw Error("isFieldEmpty: "+b.tagName+" is not a supported field element.");}(c=c||lb(b))||(a.na?(c=b.value,c=a.na.get(b.name)===c):c=!1);c?(b=b.name,a.K[b]&&(a.K[b]=!1,--a.O)):(b=b.name,a.K[b]||(a.K[b]=!0,++a.O))}};function yb(){this.o=null}m=yb.prototype;m.add=function(a){var b=this;this.o||(this.o=[]);this.o.push(a);return function(){b.remove(a)}};m.remove=function(a){this.o&&(a=this.o.indexOf(a),-1<a&&this.o.splice(a,1))};m.removeAll=function(){this.o&&(this.o.length=0)};m.fire=function(a){if(this.o)for(var b=this.o,c=0;c<b.length;c++)(0,b[c])(a)};m.getHandlerCount=function(){return this.o?this.o.length:0};function zb(){this.qa=new yb}zb.prototype.beforeSubmit=function(a){return this.qa.add(a)};zb.prototype.fire=function(a){this.qa.fire(a)};var Ab=["GET","POST"];function Bb(a){var b=a.getAttribute("crossorigin");return b&&"amp-viewer-auth-token-via-post"===b.trim()?Qa(a,"amp-viewer-assistance","amp-viewer-assistance").then(function(a){x(a,'crossorigin="amp-viewer-auth-token-post" requires amp-viewer-assistance extension.');return a.getIdTokenPromise()}).then(function(a){return a||""}).catch(function(){return""}):Promise.resolve(void 0)};function Cb(a,b){var c="amp-form";this.T=a;this.A=b;this.Ma=c}Cb.prototype.isSupported=function(){var a=this.T.getAmpDoc();return a.isSingleDoc()&&a.getRootNode().documentElement.hasAttribute("allow-viewer-render-template")?this.T.hasCapability("viewerRenderTemplate"):!1};Cb.prototype.fetchAndRenderTemplate=function(a,b,c,d){c=void 0===c?null:c;d=void 0===d?{}:d;var e;c||(e=this.A.maybeFindTemplate(a));return this.T.sendMessageAwaitResponse("viewerRenderTemplate",Db(this,b,e,c,d))};
Cb.prototype.renderTemplate=function(a,b){if(this.isSupported()){x("string"===typeof b.html,"Server side html response must be defined");var c=this.A.findAndSetHtmlForTemplate(a,b.html)}else c=Array.isArray(b)?this.A.findAndRenderTemplateArray(a,b):this.A.findAndRenderTemplate(a,b);return c};
function Db(a,b,c,d,e){e=void 0===e?{}:e;var f=z({type:a.Ma}),h="successTemplate",g=d&&d[h]?d[h]:c;g&&(f[h]={type:"amp-mustache",payload:g.innerHTML});var k="errorTemplate",l=d&&d[k]?d[k]:null;l&&(f[k]={type:"amp-mustache",payload:l.innerHTML});e&&Object.assign(f,e);a=b.xhrUrl;c=b.fetchOpt;b=Object.assign({},c);if((d=c.body)&&"function"==typeof d.getFormData){c=c.body;b.headers["Content-Type"]="multipart/form-data;charset=utf-8";c=c.entries();d=[];for(e=c.next();!e.done;e=c.next())d.push(e.value);
b.body=d}return z({originalRequest:{input:a,init:b},ampComponent:f})};function Eb(a,b){this.ka=b;this.oa=G(a,"viewport");this.za=F(a.win,"vsync");this.ia=null;this.ha="";this.ca=!1;this.J=a.win.document.createElement("div");Ua(this.J,!1);this.J.classList.add("i-amphtml-validation-bubble");this.J.__BUBBLE_OBJ=this;a.getBody().appendChild(this.J)}Eb.prototype.isActiveOn=function(a){return this.ca&&a==this.ia};Eb.prototype.hide=function(){this.ca&&(this.ca=!1,this.ia=null,this.ha="",this.za.run({measure:void 0,mutate:Fb},{bubbleElement:this.J}))};
Eb.prototype.show=function(a,b){if(!this.isActiveOn(a)||b!=this.ha){this.ca=!0;this.ia=a;this.ha=b;var c={message:b,targetElement:a,bubbleElement:this.J,viewport:this.oa,id:this.ka};this.za.run({measure:Gb,mutate:Hb},c)}};function Fb(a){a.bubbleElement.removeAttribute("aria-alert");a.bubbleElement.removeAttribute("role");for(var b=a.bubbleElement;b.firstChild;)b.removeChild(b.firstChild);Ua(a.bubbleElement,!1)}function Gb(a){a.targetRect=a.viewport.getLayoutRect(a.targetElement)}
function Hb(a){for(var b=a.bubbleElement;b.firstChild;)b.removeChild(b.firstChild);var c=a.bubbleElement.ownerDocument.createElement("div");c.id="bubble-message-"+a.id;c.textContent=a.message;a.bubbleElement.setAttribute("aria-labeledby",c.id);a.bubbleElement.setAttribute("role","alert");a.bubbleElement.setAttribute("aria-live","assertive");a.bubbleElement.appendChild(c);Ua(a.bubbleElement,!0);b=a.bubbleElement;a={top:a.targetRect.top-10+"px",left:a.targetRect.left+a.targetRect.width/2+"px"};for(var d in a)Ta(b,
d,a[d])};var Ib,Jb,Kb=0;function R(a){this.form=a;this.ampdoc=D(a);this.resources=I(a);this.root=this.ampdoc.getRootNode();this.aa=null}m=R.prototype;m.report=function(){};m.onBlur=function(){};m.onInput=function(){};m.inputs=function(){return this.form.querySelectorAll("input,select,textarea")};
m.checkInputValidity=function(a){if("TEXTAREA"===a.tagName&&a.hasAttribute("pattern")&&(a.checkValidity()||"Please match the requested format."===a.validationMessage)){var b=a.getAttribute("pattern"),c=new RegExp("^"+b+"$","m"),d=c.test(a.value);a.setCustomValidity(d?"":"Please match the requested format.")}return a.checkValidity()};m.checkFormValidity=function(a){Lb(this,a);return a.checkValidity()};m.reportFormValidity=function(a){Lb(this,a);return a.reportValidity()};
function Lb(a,b){H(b.elements,function(b){"TEXTAREA"==b.tagName&&a.checkInputValidity(b)})}m.fireValidityEventIfNecessary=function(){var a=this.aa;this.aa=this.checkFormValidity(this.form);if(a!==this.aa){var b=K(this.form.ownerDocument.defaultView,this.aa?"valid":"invalid",null,{bubbles:!0});this.form.dispatchEvent(b)}};function Mb(){R.apply(this,arguments)}n(Mb,R);Mb.prototype.report=function(){this.reportFormValidity(this.form);this.fireValidityEventIfNecessary()};
function S(a){R.call(this,a);var b="i-amphtml-validation-bubble-"+Kb++;this.S=new Eb(this.ampdoc,b)}n(S,R);S.prototype.report=function(){for(var a=this.inputs(),b=0;b<a.length;b++)if(!this.checkInputValidity(a[b])){a[b].focus();this.S.show(a[b],a[b].validationMessage);break}this.fireValidityEventIfNecessary()};S.prototype.onBlur=function(a){"submit"!=a.target.type&&this.S.hide()};
S.prototype.onInput=function(a){a=a.target;this.S.isActiveOn(a)&&(this.checkInputValidity(a)?(a.removeAttribute("aria-invalid"),this.S.hide()):(a.setAttribute("aria-invalid","true"),this.S.show(a,a.validationMessage)))};function T(a){R.call(this,a);this.Pa=this.form.id?this.form.id:String(Date.now()+Math.floor(100*Math.random()));this.Fa=0}n(T,R);m=T.prototype;m.reportInput=function(a){var b=Nb(a);b&&this.showValidationFor(a,b)};m.hideAllValidations=function(){for(var a=this.inputs(),b=0;b<a.length;b++)this.hideValidationFor(a[b])};
m.getValidationFor=function(a,b){if(!a.id)return null;var c=b;var d=a.validationMessage;c="TEXTAREA"===a.tagName&&"customError"===c&&"Please match the requested format."===d?"patternMismatch":c;d="__AMP_VALIDATION_"+c;d in a||(a[d]=this.root.querySelector("[visible-when-invalid="+c+"][validation-for="+(a.id+"]")));return a[d]};
m.showValidationFor=function(a,b){var c=this.getValidationFor(a,b);if(c){c.textContent.trim()||(c.textContent=a.validationMessage);a.__AMP_VISIBLE_VALIDATION=c;var d=c.getAttribute("id");d||(d="i-amphtml-aria-desc-"+this.Pa+"-"+this.Fa++,c.setAttribute("id",d));a.setAttribute("aria-invalid","true");a.setAttribute("aria-describedby",d);this.resources.mutateElement(c,function(){return c.classList.add("visible")})}};
m.hideValidationFor=function(a){var b=this.getVisibleValidationFor(a);b&&(delete a.__AMP_VISIBLE_VALIDATION,a.removeAttribute("aria-invalid"),a.removeAttribute("aria-describedby"),this.resources.mutateElement(b,function(){return b.classList.remove("visible")}))};m.getVisibleValidationFor=function(a){return a.__AMP_VISIBLE_VALIDATION};m.shouldValidateOnInteraction=function(){throw Error("Not Implemented");};
m.onInteraction=function(a){a=a.target;var b=!!a.checkValidity&&this.shouldValidateOnInteraction(a);this.hideValidationFor(a);b&&!this.checkInputValidity(a)&&this.reportInput(a)};m.onBlur=function(a){this.onInteraction(a)};m.onInput=function(a){this.onInteraction(a)};function Ob(){T.apply(this,arguments)}n(Ob,T);Ob.prototype.report=function(){this.hideAllValidations();for(var a=this.inputs(),b=0;b<a.length;b++)if(!this.checkInputValidity(a[b])){this.reportInput(a[b]);a[b].focus();break}this.fireValidityEventIfNecessary()};
Ob.prototype.shouldValidateOnInteraction=function(a){return!!this.getVisibleValidationFor(a)};function U(){T.apply(this,arguments)}n(U,T);U.prototype.report=function(){this.hideAllValidations();for(var a=null,b=this.inputs(),c=0;c<b.length;c++)this.checkInputValidity(b[c])||(a=a||b[c],this.reportInput(b[c]));a&&a.focus();this.fireValidityEventIfNecessary()};U.prototype.shouldValidateOnInteraction=function(a){return!!this.getVisibleValidationFor(a)};function Pb(){T.apply(this,arguments)}n(Pb,T);
Pb.prototype.shouldValidateOnInteraction=function(){return!0};Pb.prototype.onInteraction=function(a){T.prototype.onInteraction.call(this,a);this.fireValidityEventIfNecessary()};function Qb(){U.apply(this,arguments)}n(Qb,U);Qb.prototype.shouldValidateOnInteraction=function(){return!0};Qb.prototype.onInteraction=function(a){U.prototype.onInteraction.call(this,a);this.fireValidityEventIfNecessary()};
function Rb(a){var b=a.getAttribute("custom-validation-reporting");switch(b){case "as-you-go":return new Pb(a);case "show-all-on-submit":return new U(a);case "interact-and-submit":return new Qb(a);case "show-first-on-submit":return new Ob(a)}a.ownerDocument&&void 0===Ib&&(Ib=!!document.createElement("form").reportValidity);return Ib?new Mb(a):new S(a)}
function Nb(a){var b=["badInput"];for(c in a.validity)b.includes(c)||b.push(c);var c=b.filter(function(b){return!0===a.validity[b]});return c.length?c[0]:null};function Sb(a){var b=a.ownerDocument.defaultView;b.FormProxy||(b.FormProxy=Tb(b));var c=b.FormProxy,d=new c(a);"action"in d||Ub(a,d);a.$p=d}
function Tb(a){function b(a){this.h=a}var c=b.prototype,d=a.Object,e=d.prototype,f=[a.HTMLFormElement,a.EventTarget],h=f.reduce(function(a,b){for(b=b&&b.prototype;b&&b!==e&&!(0<=a.indexOf(b));)a.push(b),b=d.getPrototypeOf(b);return a},[]);h.forEach(function(b){var d={},f;for(f in b){d.w=a.Object.getOwnPropertyDescriptor(b,f);if(d.w&&f.toUpperCase()!=f&&!ta(f,"on")&&!e.hasOwnProperty.call(c,f))if("function"==typeof d.w.value)d.ea=d.w.value,c[f]=function(a){return function(){return a.ea.apply(this.h,
arguments)}}(d);else{var h={};d.w.get&&(h.get=function(a){return function(){return a.w.get.call(this.h)}}(d));d.w.set&&(h.set=function(a){return function(b){return a.w.set.call(this.h,b)}}(d));a.Object.defineProperty(c,f,h)}d={ea:d.ea,w:d.w}}});return b}
function Ub(a,b){var c=a.ownerDocument.defaultView.HTMLFormElement.prototype.cloneNode.call(a,!1),d={},e;for(e in c){d.l=e;if(!(d.l in b||d.l.toUpperCase()==d.l||ta(d.l,"on"))){d.m=Vb[d.l];var f=a[d.l];if(d.m)if(d.m.access==V){d.M=void 0;if(f&&f.nodeType){var h=c=f,g=h.nextSibling;h=h.parentNode;h.removeChild(c);try{d.M=a[d.l]}finally{h.insertBefore(c,g)}}else d.M=f;Object.defineProperty(b,d.l,{get:function(a){return function(){return a.M}}(d)})}else d.m.access==W&&(d.N=d.m.attr||d.l,Object.defineProperty(b,
d.l,{get:function(c){return function(){var d=b.getAttribute(c.N);return null==d&&void 0!==c.m.def?c.m.def:c.m.type==Wb?"true"===d:c.m.type==Xb?null!=d:c.m.type==Yb?(d=d||"",B(a,"url").parse(d).href):d}}(d),set:function(a){return function(c){a.m.type==Xb&&(c=c?"":null);null!=c?b.setAttribute(a.N,c):b.removeAttribute(a.N)}}(d)}));else Object.defineProperty(b,d.l,{get:function(b){return function(){return a[b.l]}}(d),set:function(b){return function(c){a[b.l]=c}}(d)})}d={M:d.M,N:d.N,m:d.m,l:d.l}}}
var W=1,V=2,Yb=1,Wb=2,Xb=3,Vb={acceptCharset:{access:W,attr:"accept-charset"},accessKey:{access:W,attr:"accesskey"},action:{access:W,type:Yb},attributes:{access:V},autocomplete:{access:W,def:"on"},children:{access:V},dataset:{access:V},dir:{access:W},draggable:{access:W,type:Wb,def:!1},elements:{access:V},encoding:{access:V},enctype:{access:W},hidden:{access:W,type:Xb,def:!1},id:{access:W,def:""},lang:{access:W},localName:{access:V},method:{access:W,def:"get"},name:{access:W},noValidate:{access:W,
attr:"novalidate",type:Xb,def:!1},prefix:{access:V},spellcheck:{access:W},style:{access:V},target:{access:W,def:""},title:{access:W},translate:{access:W}};function Zb(a,b){var c='form.amp-form-submit-error [submit-error],form.amp-form-submit-success [submit-success],form.amp-form-submitting [submitting]{display:block}textarea[autoexpand]:not(.i-amphtml-textarea-max){overflow:hidden!important}.i-amphtml-textarea-clone{visibility:hidden;position:absolute;top:-9999px;left:-9999px;height:0!important}.i-amphtml-validation-bubble{transform:translate(-50%,-100%);background-color:#fff;box-shadow:0 5px 15px 0 rgba(0,0,0,0.5);max-width:200px;position:absolute;display:block;box-sizing:border-box;padding:10px;border-radius:5px}.i-amphtml-validation-bubble:after{content:" ";position:absolute;bottom:-8px;left:30px;width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #fff}[visible-when-invalid]{color:red}\n/*# sourceURL=/extensions/amp-form/0.1/amp-form.css*/',
d=!1,e="amp-form",f=a.getHeadNode(),h=$b(f,dc(f,c),d||!1,e||null);if(b){var g=a.getRootNode();if(ec(g,h))b(h);else var k=setInterval(function(){ec(g,h)&&(clearInterval(k),b(h))},4)}}
function $b(a,b,c,d){var e=a.__AMP_CSS_SM;e||(e=a.__AMP_CSS_SM=y());var f=!c&&d&&"amp-custom"!=d&&"amp-keyframes"!=d,h=c?"amp-runtime":f?"amp-extension="+d:null;if(h){var g=fc(a,e,h);if(g)return g.textContent!==b&&(g.textContent=b),g}var k=(a.ownerDocument||a).createElement("style");k.textContent=b;var l=null;c?k.setAttribute("amp-runtime",""):f?(k.setAttribute("amp-extension",d||""),l=fc(a,e,"amp-runtime")):(d&&k.setAttribute(d,""),l=a.lastChild);b=l;a.insertBefore(k,b?b.nextSibling:a.firstChild);
h&&(e[h]=k);return k}function fc(a,b,c){return b[c]?b[c]:(a=a.querySelector("style["+c+"]"))?b[c]=a:null}function dc(a,b){return(a=a.__AMP_CSS_TR)?a(b):b}function ec(a,b){var c=a.styleSheets;for(a=0;a<c.length;a++){var d=c[a];if(d.ownerNode==b)return!0}return!1};function gc(a,b,c){Qa(a,"amp-analytics-instrumentation","amp-analytics").then(function(d){d&&d.triggerEventForTarget(a,b,c)})};var hc=["amp-selector"];
function ic(a,b){var c=this;try{Sb(a)}catch(f){w().error("amp-form","form proxy failed to install",f)}a.__AMP_FORM=this;this.ka=b;this.j=a.ownerDocument.defaultView;this.Oa=F(this.j,"timer");this.xa=B(a,"url-replace");this.ja=null;this.h=a;this.Ea=D(this.h);this.A=F(this.j,"templates");this.Sa=F(this.j,"xhr");this.X=B(this.h,"action");this.va=I(this.h);this.T=G(this.h,"viewer");this.P=new Cb(this.T,this.A);this.H=(this.h.getAttribute("method")||"GET").toUpperCase();this.Na=this.h.getAttribute("target");
this.L=jc(this,"action-xhr");this.Ra=jc(this,"verify-xhr");this.wa=!this.h.hasAttribute("novalidate");this.h.setAttribute("novalidate","");this.wa||this.h.setAttribute("amp-novalidate","");this.h.classList.add("i-amphtml-form");this.I="initial";b=this.h.elements;for(var d=0;d<b.length;d++){var e=b[d].name;x("__amp_source_origin"!=e&&"__amp_form_verify"!=e,"Illegal input name, %s found: %s",e,b[d])}this.Z=new wb(this.h,this.j);this.da=Rb(this.h);this.Qa=mb(this.h,function(){return kc(c)});this.X.installActionHandler(this.h,
this.Da.bind(this));this.la();lc(this);this.pa=this.ua=this.Ca=null;Ja(E(a),"form-submit-service").then(function(a){c.pa=a})}function jc(a,b){var c=a.h.getAttribute(b);if(c){var d=B(a.h,"url");d.assertHttpsUrl(c,a.h,b);x(!d.isProxyOrigin(c),"form %s should not be on AMP CDN: %s",b,a.h)}return c}m=ic.prototype;
m.requestForFormFetch=function(a,b,c,d){var e="GET"==b||"HEAD"==b;if(e){mc(this);var f=L(this.h);d&&d.forEach(function(a){delete f[a]});c&&ra(f,c);var h=Ca(a,Da(f))}else{h=a;var g=tb(this.j,this.h);d&&d.forEach(function(a){g.delete(a)});for(var k in c)g.append(k,c[k])}var l={xhrUrl:h,fetchOpt:z({body:g,method:b,credentials:"include",headers:z({Accept:"application/json"})})};return Bb(this.h).then(function(a){a&&(x("POST"==l.fetchOpt.method,"Cannot attach auth token with GET request."),g.append("ampViewerAuthToken",
a));return l})};m.setXhrAction=function(a){this.L=a};m.Da=function(a){var b=this;if(!a.satisfiesTrust(100))return null;if("submit"==a.method)return nc(this).then(function(){var c=a;return"submitting"!=b.I&&oc(b)?pc(b,c.trust,null):Promise.resolve(null)});"clear"===a.method&&qc(this);return null};function nc(a){if(a.ja)return a.ja;var b=a.h.querySelectorAll(hc.join(",")),c=oa(b).map(function(a){return a.whenBuilt()});return a.ja=rc(a,c,2E3)}
m.la=function(){var a=this;this.Ea.whenNextVisible().then(function(){var b=a.h.querySelector("[autofocus]");if(b)try{b.focus()}catch(c){}});this.h.addEventListener("submit",this.Ia.bind(this),!0);this.h.addEventListener("blur",function(b){sc(b.target);a.da.onBlur(b)},!0);this.P.isSupported()||this.h.addEventListener("change",function(b){a.Qa.onCommit().then(function(c){var d=c.updatedElements,e=c.errors;d.forEach(sc);a.da.onBlur(b);"verifying"===a.I&&(e.length?(X(a,"verify-error"),Y(a,z({verifyErrors:e})).then(function(){tc(a,
"verify-error",e)})):X(a,"initial"))})});this.h.addEventListener("input",function(b){sc(b.target);a.da.onInput(b)})};function lc(a){Qa(a.h,"inputmask","amp-inputmask").then(function(a){a&&a.install()})}function uc(a,b){vc(a,"Form analytics not supported");var c=z({}),d=L(a.h),e;for(e in d)Object.prototype.hasOwnProperty.call(d,e)&&(c["formFields["+e+"]"]=d[e].join(","));c.formId=a.h.id;gc(a.h,b,c)}
function qc(a){a.h.reset();X(a,"initial");a.h.classList.remove("user-valid");a.h.classList.remove("user-invalid");var b=a.h.querySelectorAll(".user-valid, .user-invalid");H(b,function(a){a.classList.remove("user-valid");a.classList.remove("user-invalid")});var c=a.h.querySelectorAll(".visible[validation-for]");H(c,function(a){a.classList.remove("visible")});wc(a.h)}
m.Ia=function(a){if("submitting"==this.I||!oc(this))return a.stopImmediatePropagation(),a.preventDefault(),Promise.resolve(null);(this.L||"POST"==this.H)&&a.preventDefault();return pc(this,100,a)};
function pc(a,b,c){try{var d={form:a.h,actionXhrMutator:a.setXhrAction.bind(a)};a.pa.fire(d)}catch(l){w().error("amp-form","Form submit service failed: %s",l)}var e=xc(a),f=a.h.getElementsByClassName("i-amphtml-async-input");a.Z.onSubmitting();if(!a.L&&"GET"==a.H){vc(a,"Non-XHR GETs not supported.");mc(a);if(0===f.length){for(d=0;d<e.length;d++)a.xa.expandInputValueSync(e[d]);var h=!c;yc(a,h);a.Z.onSubmitSuccess();return Promise.resolve()}c&&c.preventDefault()}X(a,"submitting");var g=[],k=[];k.push(zc(a,
e));H(f,function(b){var c=Ac(a,b);b.classList.contains("i-async-require-action")?g.push(c):k.push(c)});return Promise.all(g).then(function(){return rc(a,k,1E4).then(function(){if(a.L)var c=Bc(a,b);else"POST"==a.H?x(!1,"Only XHR based (via action-xhr attribute) submissions are supported for POST requests. %s",a.h):"GET"==a.H&&yc(a,!0),c=Promise.resolve();return c},function(b){return Cc(a,b)})},function(b){return Cc(a,b)})}
function Cc(a,b){var c={};b&&b.message&&(c.error=b.message);return Dc(a,b,c)}function xc(a){return a.h.querySelectorAll('[type="hidden"][data-amp-replace]')}function kc(a){if("submitting"===a.I)return Promise.resolve();X(a,"verifying");tc(a,"verify",null);return zc(a,xc(a)).then(function(){return Ec(a)})}function Bc(a,b){a.P.isSupported()?b=Fc(a,b):(Gc(a,b),b=a.$(a.L,a.H).then(function(b){return Hc(a,b)},function(b){return Ic(a,b)}));q().test&&(a.Ca=b);return b}
function Fc(a,b){var c,d=L(a.h);return Y(a,d).then(function(){return a.X.trigger(a.h,"submit",null,b)}).then(function(){return a.requestForFormFetch(a.L,a.H)}).then(function(b){var d=c=b,e=c.fetchOpt||{};var g=e.method;void 0===g?g="GET":(g=g.toUpperCase(),Ab.includes(g));e.method=g;e.headers=e.headers||z({});d.fetchOpt=e;d=c;g=c.xhrUrl;e=(e=c.fetchOpt)||{};var k=a.j;k=k.origin||A(k.location.href).origin;g=A(g).origin;k==g&&(e.headers=e.headers||{},e.headers["AMP-Same-Origin"]="true");d.fetchOpt=
e;d=c;e=c.xhrUrl;if(!1!==c.fetchOpt.ampCors){g=a.j;k=A(e);k=p(k.search);x(!("__amp_source_origin"in k),"Source origin is not allowed in %s",e);g=g.location.href;"string"==typeof g&&(g=A(g));k=g;"string"==typeof k&&(k=A(k));if(pa.cdnProxyRegex.test(k.origin)){k=g.pathname.split("/");x(ua[k[1]],"Unknown path prefix in url %s",g.href);var l=k[2],v="s"==l?"https://"+decodeURIComponent(k[3]):"http://"+decodeURIComponent(l);x(0<v.indexOf("."),"Expected a . in origin %s",v);k.splice(1,"s"==l?3:2);k=v+k.join("/");
l=(l=g.search)&&"?"!=l?(l=l.replace(xa,"").replace(ya,"").replace(za,"").replace(Aa,"").replace(Ba,"").replace(/^[?&]/,""))?"?"+l:"":"";g=k+l+(g.hash||"")}else g=g.href;g=A(g).origin;g=encodeURIComponent("__amp_source_origin")+"="+encodeURIComponent(g);e=Ca(e,g,void 0)}d.xhrUrl=e;return a.P.fetchAndRenderTemplate(a.h,c,Jc(a))}).then(function(b){return Kc(a,b)},function(b){var c={};b&&b.message&&(c.error=b.message);return Dc(a,b,c)})}
function Jc(a){var b,c=a.h.querySelector("[submit-success]");c&&(b=a.A.maybeFindTemplate(c));var d,e=a.h.querySelector("[submit-error]");e&&(d=a.A.maybeFindTemplate(e));return{successTemplate:b,errorTemplate:d}}function Kc(a,b){return Lc(a,ia(function(){return b}))}function Gc(a,b){uc(a,"amp-form-submit");var c=L(a.h);Y(a,c).then(function(){a.X.trigger(a.h,"submit",null,b)})}function zc(a,b){for(var c=[],d=0;d<b.length;d++)c.push(a.xa.expandInputValueAsync(b[d]));return rc(a,c,100)}
function Ac(a,b){return b.getImpl().then(function(a){return a.getValue()}).then(function(c){var d=b.getAttribute("name");d=a.h.querySelector("input[name="+String(d).replace(La,Ma)+"]");if(!d){d=z({name:b.getAttribute("name"),hidden:"true"});var e=a.j.document.createElement("input"),f;for(f in d)e.setAttribute(f,d[f]);d=e}d.setAttribute("value",c);a.h.appendChild(d)})}
function Ec(a){var b=oa(a.h.querySelectorAll("["+"no-verify".replace(La,Ma)+"]")),c=b.map(function(a){return a.name||a.id}),d={};return a.$(a.Ra,a.H,(d.__amp_form_verify=!0,d),c)}m.$=function(a,b,c,d){var e=this;vc(this,"XHRs should be proxied.");return this.requestForFormFetch(a,b,c,d).then(function(a){return e.Sa.fetch(a.xhrUrl,a.fetchOpt)})};function Hc(a,b){var c=b.json();return Lc(a,c).then(function(){uc(a,"amp-form-submit-success");Mc(a,b)})}
function Lc(a,b){return b.then(function(b){X(a,"submit-success");Y(a,b||{}).then(function(){tc(a,"submit-success",b);a.Z.onSubmitSuccess()})},function(a){u().error("amp-form","Failed to parse response JSON: %s",a)})}function Ic(a,b){return(b&&b.response?b.response.json().catch(function(){return null}):Promise.resolve(null)).then(function(c){uc(a,"amp-form-submit-error");Dc(a,b,c);Mc(a,b.response)})}
function Dc(a,b,c){X(a,"submit-error");u().error("amp-form","Form submission failed: %s",b);return ia(function(){Y(a,c).then(function(){tc(a,"submit-error",c);a.Z.onSubmitError()})})}function yc(a,b){uc(a,"amp-form-submit");b&&a.h.submit();X(a,"initial")}function vc(a,b){var c=a.P.isSupported();x(!1===c,"[amp-form]: viewerRenderTemplate | %s",b)}
function mc(a){var b=a.h.querySelectorAll("input[type=password],input[type=file]");x(0==b.length,"input[type=password] or input[type=file] may only appear in form[method=post]")}function oc(a){void 0===Jb&&(Jb=!!a.j.document.createElement("input").checkValidity);if(Jb){var b=Nc(a.h);if(a.wa)return a.da.report(),b}return!0}
function Mc(a,b){vc(a,"Redirects not supported.");if(b&&b.headers){var c=b.headers.get("AMP-Redirect-To");if(c){x("_blank"!=a.Na,"Redirecting to target=_blank using AMP-Redirect-To is currently not supported, use target=_top instead. %s",a.h);try{var d=B(a.h,"url");d.assertAbsoluteHttpOrHttpsUrl(c);d.assertHttpsUrl(c,"AMP-Redirect-To","Url")}catch(e){x(!1,"The `AMP-Redirect-To` header value must be an absolute URL starting with https://. Found %s",c)}G(a.h,"navigation").navigateTo(a.j,c,"AMP-Redirect-To")}}}
function tc(a,b,c){c=K(a.j,"amp-form."+b,z({response:c}));a.X.trigger(a.h,b,c,100)}function rc(a,b,c){return Promise.race([Promise.all(b),a.Oa.promise(c)])}
function X(a,b){var c=a.I;a.h.classList.remove("amp-form-"+c);a.h.classList.add("amp-form-"+b);var d=a.h.querySelector("["+c+"]");if(d){/^[\w-]+$/.test("i-amphtml-rendered");if(void 0!==Na)var e=Na;else{try{var f=d.ownerDocument,h=f.createElement("div"),g=f.createElement("div");h.appendChild(g);e=h.querySelector(":scope div")===g}catch(k){e=!1}e=Na=e}e?d=d.querySelector("> [i-amphtml-rendered]".replace(/^|,/g,"$&:scope ")):(d.classList.add("i-amphtml-scoped"),e="> [i-amphtml-rendered]".replace(/^|,/g,
"$&.i-amphtml-scoped "),e=d.querySelectorAll(e),d.classList.remove("i-amphtml-scoped"),d=void 0===e[0]?null:e[0]);d&&d.parentElement&&d.parentElement.removeChild(d)}a.I=b}
function Y(a,b){Array.isArray(b)&&(b={},u().warn("amp-form","Unexpected data type: "+b+". Expected non JSON array."));var c=a.h.querySelector("["+a.I+"]"),d=Promise.resolve();if(c){var e="rendered-message-"+a.ka;c.setAttribute("role","alert");c.setAttribute("aria-labeledby",e);c.setAttribute("aria-live","assertive");a.A.hasTemplate(c)?d=a.P.renderTemplate(c,b).then(function(b){b.id=e;b.setAttribute("i-amphtml-rendered","");return a.va.mutateElement(c,function(){c.appendChild(b);var d=K(a.j,"amp:dom-update",
null,{bubbles:!0});c.dispatchEvent(d)})}):a.va.mutateElement(c,function(){})}q().test&&(a.ua=d);return d}m.Ta=function(){return this.ua};m.Va=function(){return this.Ca};function Nc(a){var b=a.querySelectorAll("input,select,textarea,fieldset");H(b,function(a){return Z(a)});return Z(a)}
function wc(a){var b=document.createElement("input"),c={},d;for(d in b.validity){c.W=d;var e=a.querySelectorAll("."+String(c.W).replace(La,Ma));H(e,function(a){return function(b){b.classList.remove(a.W)}}(c));c={W:c.W}}}
function Z(a,b){b=void 0===b?!1:b;if(!a.checkValidity)return!0;var c=!1,d=a.classList.contains("user-valid")?"valid":a.classList.contains("user-invalid")?"invalid":"none",e=a.checkValidity();"valid"!=d&&e?(a.classList.add("user-valid"),a.classList.remove("user-invalid"),c="invalid"==d):"invalid"==d||e||(a.classList.add("user-invalid"),a.classList.remove("user-valid"),c=!0);if(a.validity)for(var f in a.validity)a.classList.toggle(f,a.validity[f]);if(b&&c){f=Pa(a);for(var h=0;h<f.length;h++)Z(f[h]);
a.form&&Z(a.form)}return e}function sc(a){Z(a,!0)}function Oc(a){this.Ba=Pc(a).then(function(){return Qc(a)});q().test&&this.Ba.then(function(){var b=a.win,c=K(b,"amp:form-service:initialize",null,{bubbles:!0});b.dispatchEvent(c)})}Oc.prototype.whenInitialized=function(){return this.Ba};function Pc(a){var b=new ha;Zb(a,b.resolve);return b.promise}function Qc(a){return a.whenReady().then(function(){var b=a.getRootNode();Rc(b.querySelectorAll("form"));gb(a);Sc(b)})}
function Rc(a){a&&H(a,function(a,c){var b=a.__AMP_FORM||null;b||new ic(a,"amp-form-"+c)})}function Sc(a){a.addEventListener("amp:dom-update",function(){Rc(a.querySelectorAll("form"))})}(function(a){a.registerServiceForDoc("form-submit-service",zb);a.registerServiceForDoc("amp-form",Oc)})(self.AMP);
})});

//# sourceMappingURL=amp-form-0.1.js.map
