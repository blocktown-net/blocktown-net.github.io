(self.AMP=self.AMP||[]).push({n:"amp-carousel",v:"1910151804560",f:(function(AMP,_){
var h,aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},p;if("function"==typeof Object.setPrototypeOf)p=Object.setPrototypeOf;else{var q;a:{var ba={a:!0},ca={};try{ca.__proto__=ba;q=ca.a;break a}catch(a){}q=!1}p=q?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var da=p;function ea(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(c){return b}};var fa=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var ha=self.__AMP_LOG;function t(a,b){return 0<a&&0<b?a%b:(a%b+b)%b};function u(){var a,b=Object.create(null);a&&Object.assign(b,a);return b}function v(a){return a||{}};var w,ia="Webkit webkit Moz moz ms O o".split(" ");function x(a,b,c){if(2>b.length?0:0==b.lastIndexOf("--",0))return b;w||(w=u());var d=w[b];if(!d||c){d=b;if(void 0===a[b]){var e=b.charAt(0).toUpperCase()+b.slice(1);a:{for(var f=0;f<ia.length;f++){var g=ia[f]+e;if(void 0!==a[g]){e=g;break a}}e=""}var k=e;void 0!==a[k]&&(d=k)}c||(w[b]=d)}return d}function ja(a,b){a=a.style;for(var c in b)a.setProperty(x(a,c),b[c].toString(),"important")}
function y(a,b,c){var d;(b=x(a.style,b,void 0))&&(a.style[b]=d?c+d:c)};function z(a,b){var c=b.getBoundingClientRect();b=c.top;var d=c.bottom,e=c.height,f=c.left,g=c.right;c=c.width;return{start:0==a?f:b,end:0==a?g:d,length:0==a?c:e}}function A(a,b){a=z(a,b);return(a.start+a.end)/2}function B(a,b,c){0==a?y(b,"width",c+"px"):y(b,"height",c+"px")}function C(a,b,c){a=z(a,b);b=a.end;return a.start<=c&&c<=b}
function ka(a,b,c,d,e){var f="start"==b?z(a,c).start+1:A(a,c);if(C(a,d[e],f))return e;for(c=1;c<d.length/2;c++){var g=t(e+c,d.length),k=t(e-c,d.length);if(C(a,d[g],f))return g;if(C(a,d[k],f))return k}};function la(a,b,c){function d(){e=0;var k=c-(a.Date.now()-f);if(0<k)e=a.setTimeout(d,k);else{var l=g;g=null;b.apply(null,l)}}var e=0,f=0,g=null;return function(b){for(var k=[],m=0;m<arguments.length;++m)k[m-0]=arguments[m];f=a.Date.now();g=k;e||(e=a.setTimeout(d,c))}};var D;function ma(a,b,c){var d={capture:!0,passive:!0},e=a,f=c;var g=function(a){try{return f(a)}catch(n){throw self.__AMP_REPORT_ERROR(n),n;}};var k=na(),l=!1;d&&(l=d.capture);e.addEventListener(b,g,k?d:l);return function(){e&&e.removeEventListener(b,g,k?d:l);g=e=f=null}}function na(){if(void 0!==D)return D;D=!1;try{var a={get capture(){D=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(b){}return D};function oa(){var a,b;this.promise=new Promise(function(c,d){a=c;b=d});this.resolve=a;this.reject=b};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function pa(a,b){for(var c;a&&a!==c;a=a.parentElement)if(b(a))return a;return null}function qa(a){return a.closest?a.closest("[i-amphtml-scale-animation]"):pa(a,function(a){var b=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector;return b?b.call(a,"[i-amphtml-scale-animation]"):!1})}function ra(a,b){for(var c=a.length,d=0;d<c;d++)b(a[d],d)};function E(a,b,c){var d={detail:c};Object.assign(d,void 0);if("function"==typeof a.CustomEvent)return new a.CustomEvent(b,d);a=a.document.createEvent("CustomEvent");a.initCustomEvent(b,!!d.bubbles,!!d.cancelable,c);return a}function F(a,b,c){ma(a,b,c)}function sa(a){var b=a,c=ma(window,"touchend",function(a){try{b(a)}finally{b=null,c()}})};function ta(a){var b=this,c=a.scrollContainer,d=a.advanceable;this.O=a.win;this.h=c;this.Ha=d;this.T=0;this.w=!1;this.fa=1;this.ga=1E3;this.sa=this.Z=!1;this.xa=null;this.pa=Number.POSITIVE_INFINITY;ua(this,this.ga);this.h.addEventListener("scroll",function(){return b.la()},!0);F(this.h,"touchstart",function(){return b.ma()})}h=ta.prototype;h.stop=function(){this.sa=!0};h.pause=function(){this.Z=!0};h.resume=function(){this.Z=!1;G(this)};h.updateAutoAdvance=function(a){this.w=a;G(this)};
h.updateAutoAdvanceCount=function(a){this.fa=a;G(this)};h.updateAutoAdvanceInterval=function(a){this.ga=Math.max(a,1E3);ua(this,this.ga);G(this)};h.updateMaxAdvances=function(a){this.pa=a};function ua(a,b){a.xa=la(a.O,function(){a.w&&!a.Z&&!a.sa&&a.T<a.pa&&(a.Ha.advance(a.fa,{actionSource:4,allowWrap:!0}),a.T+=a.fa)},b)}h.ma=function(){var a=this;this.pause();sa(function(){a.resume()})};h.la=function(){G(this)};function G(a){a.w&&!a.Z&&!a.sa&&a.T<a.pa&&a.xa()};function va(a){var b=this,c=a.element,d=a.scrollContainer,e=a.runMutate,f=a.stoppable;this.O=a.win;this.h=d;this.K=e;this.j=[];this.A=1;this.L=this.N=!1;this.Aa=0;c.addEventListener("focus",function(){f.stop()},!0);c.addEventListener("amp-carousel:indexchange",function(a){b.qa(a)})}h=va.prototype;h.updateMixedLength=function(a){this.N=a};h.updateUi=function(){var a=this;this.L||(this.L=!0,this.K(function(){a.L=!1;wa(a);xa(a)}))};h.updateSlides=function(a){this.j=a;this.updateUi()};
h.updateVisibleCount=function(a){this.A=a;this.updateUi()};function wa(a){a.N||2<=a.A?(a.h.removeAttribute("aria-live"),a.h.setAttribute("role","list"),a.j.forEach(function(a){a.setAttribute("role","listitem")})):(a.h.setAttribute("aria-live","polite"),a.h.removeAttribute("role"),a.j.forEach(function(a){a.removeAttribute("role")}))}function xa(a){a.j.forEach(function(b,c){var d=!(a.N||2<=a.A)&&c!==a.Aa;b.setAttribute("aria-hidden",d)})}h.qa=function(a){var b=this;this.Aa=a.detail.index;this.K(function(){xa(b)})};function ya(a,b){var c=(c=x(a.style,"scrollBehavior",void 0))?a.style[c]:void 0;var d=c;y(a,"scrollBehavior","auto");b();y(a,"scrollBehavior",d)}function H(a){return a.reduce(function(a,c){return a+c},0)}
function za(a){var b=this,c=a.win,d=a.element,e=a.scrollContainer;a=a.runMutate;this.O=c;this.K=a;this.ja=d;this.h=e;this.w=new ta({win:c,scrollContainer:e,advanceable:this});this.ia=new va({win:c,element:d,scrollContainer:e,runMutate:a,stoppable:this.w});this.ya=la(c,function(){return I(b)},200);this.ea=1;this.va=Number.POSITIVE_INFINITY;this.N=!1;this.j=[];this.Ga=!0;this.L=!1;this.R=[];this.aa=[];this.P=[];this.ua=[];this.M=!1;this.wa=0;this.D=null;this.ba=NaN;this.ra=this.ca=!1;this.F=void 0;
this.G="start";this.B=0;this.za=this.V=!0;this.o=0;this.Ca=!1;this.Fa=!0;this.A=this.Ea=1;this.h.addEventListener("scroll",function(){return b.la()},!0);this.h.addEventListener("scrollend",function(){I(b)},!0);F(this.h,"touchstart",function(){return b.ma()});F(this.h,"wheel",function(){b.F=2;b.D=null;b.M=!1})}h=za.prototype;h.next=function(a){this.advance(this.ea,{actionSource:a})};h.prev=function(a){this.advance(-this.ea,{actionSource:a})};
h.advance=function(a,b){var c=void 0===b?{}:b;b=c.actionSource;var d=void 0===c.allowWrap?!1:c.allowWrap;c=this.o;var e=this.D;c=null!=e?e:c;var f=c+a,g=this.j.length-1,k=0==c,l=c==g,m=0>f,n=f>g;var r=this.isLooping()?t(f,g+1):d?0<a&&Aa(this,c)&&Aa(this,f)?0:m&&k||n&&!l?g:m&&!k||n&&l?0:f:Math.min(Math.max(f,0),g);this.goToSlide(r,{actionSource:b})};h.pauseAutoAdvance=function(){this.w.pause()};h.resumeAutoAdvance=function(){this.w.resume()};h.getCurrentIndex=function(){return this.o};
h.getVisibleCount=function(){return this.A};h.isLooping=function(){return this.Ca&&3<=this.j.length/this.A};h.goToSlide=function(a,b){b=void 0===b?{}:b;var c=void 0===b.smoothScroll?!0:b.smoothScroll;b=b.actionSource;0>a||a>this.j.length-1||isNaN(a)||a==this.o||this.ca||this.ra&&(3==this.F||2==this.F)||(this.M=!1,this.D=a,this.F=b,Ba(this,this.j[a],{smoothScroll:c}))};h.updateAdvanceCount=function(a){this.ea=a};h.updateAlignment=function(a){this.G="start"==a?"start":"center";this.updateUi()};
h.updateAutoAdvance=function(a){this.w.updateAutoAdvance(a)};h.updateAutoAdvanceCount=function(a){this.w.updateAutoAdvanceCount(a)};h.updateAutoAdvanceInterval=function(a){this.w.updateAutoAdvanceInterval(a)};h.updateAutoAdvanceLoops=function(a){this.va=a;this.updateUi()};h.updateForwards=function(a){this.V=a;this.updateUi()};h.updateHideScrollbar=function(a){this.za=a;this.updateUi()};h.updateHorizontal=function(a){this.B=a?0:1;this.updateUi()};h.updateLoop=function(a){this.Ca=a;this.updateUi()};
h.updateMixedLength=function(a){this.N=a;this.ia.updateMixedLength(a);this.updateUi()};h.updateSlides=function(a){this.j=a;this.ia.updateSlides(a);this.updateUi()};h.updateSnap=function(a){this.Fa=a;this.updateUi()};h.updateSnapBy=function(a){this.Ea=Math.max(1,a);this.updateUi()};h.updateUserScrollable=function(a){this.Ga=a;this.updateUi()};
h.updateUi=function(){var a=this;this.L||(this.L=!0,this.K(function(){a.L=!1;a.h.setAttribute("mixed-length",a.N);a.h.setAttribute("user-scrollable",a.Ga);a.h.setAttribute("hide-scrollbar",a.za);a.h.setAttribute("horizontal",0==a.B);a.h.setAttribute("loop",a.isLooping());a.h.setAttribute("snap",a.Fa);ja(a.h,{"--visible-count":a.A});a.j.length&&(a.w.updateMaxAdvances(a.va*a.j.length-1),Ca(a),Da(a),Ea(a),I(a,!0))}))};
h.updateVisibleCount=function(a){this.A=Math.max(1,a);this.ia.updateVisibleCount(a);this.updateUi()};h.notifyScrollStart=function(){this.ja.dispatchEvent(E(this.O,"amp-carousel:scrollstart",null))};h.ma=function(){var a=this;this.ca=!0;this.F=3;this.D=null;this.M=!1;sa(function(){a.ca=!1;a.ya()})};h.la=function(){this.M?this.M=!1:(this.ra=!0,Fa(this),this.notifyScrollStart(),this.ya())};
function J(a,b,c,d){var e=a.B,f=c*d*(a.V?1:-1);a=0==e?f:0;e=0==e?0:f;y(b,"transform","translate("+a+"px, "+e+"px)");ja(b,{"--content-transform":"translate("+a+"px, "+e+"px)"});b._revolutions=c}function Ga(a,b){a.j.forEach(function(c){J(a,c,0,b)})}function K(a){return a.j.map(function(b){return z(a.B,b).length})}h.isAtEnd=function(){return this.isLooping()?!1:this.V?this.isScrollAtRightEdge():this.isScrollAtLeftEdge()};
h.isAtStart=function(){return this.isLooping()?!1:this.V?this.isScrollAtLeftEdge():this.isScrollAtRightEdge()};h.isScrollAtRightEdge=function(){var a=this.h,b=a.getBoundingClientRect().width;return a.scrollLeft+b>=a.scrollWidth};h.isScrollAtLeftEdge=function(){return 0>=this.h.scrollLeft};function L(a){for(var b=[],c=0;c<a;c++){var d=document.createElement("div");d.className="i-amphtml-carousel-spacer";b.push(d)}return b}
function Ca(a){var b=a.B,c=a.j,d=K(a),e=H(d),f=a.isLooping()?c.length:0;a.R.forEach(function(b){a.h.removeChild(b)});a.R=L(f);a.R.forEach(function(e,f){B(b,e,d[f]);a.h.insertBefore(e,c[0])});a.aa.forEach(function(b){a.h.removeChild(b)});a.aa=L(f);a.aa.forEach(function(c,f){B(b,c,d[f]);J(a,c,-1,e);a.h.appendChild(c)});a.P.forEach(function(b){a.h.removeChild(b)});a.P=L(f);a.P.forEach(function(c,f){B(b,c,d[f]);J(a,c,-1,e);a.h.appendChild(c)});a.ua=a.R.concat(a.aa,a.P)}
function Da(a){var b=a.j.length,c="start"==a.G,d=1==t(a.A,2),e=c||d?"0%":"50%";ra(a.h.children,function(c,d){d=t(d,b);var f=0==t(d,a.Ea);d={"scroll-snap-align":f?a.G:"none","scroll-snap-coordinate":f?e:"none"};for(var g in d)y(c,g,d[g])})}
function Ea(a){var b=a.P,c=a.R,d=a.o,e=a.j,f=Math.max(0,e.length-d-1),g=Math.max(0,d-1);c.forEach(function(a,b){var g=c.length,k=d===b?g:t(d-b,g),l=k>e.length-1;a.hidden=l||b<e.length-f});b.forEach(function(a,c){var f=b.length;f=d===c?f:t(c-d,f);a.hidden=f>e.length-1||c>g})}
function Fa(a){var b=a.ua,c=a.G,d=a.B,e=a.o,f=a.h,g=a.j,k=H(K(a)),l=!!b.length,m=l?b:g,n=ka(d,c,f,m,l?e+g.length:e);if(void 0!==n){var r=n%g.length,U=z(d,g[r]).start,Wa=z(d,f).start;a.wa=U-Wa;r!=e&&a.K(function(){a.o=r;Ha(a,k)})}}
function I(a,b){b=void 0===b?!1:b;var c=a.F;if(!a.ca&&(a.F=void 0,a.ra=!1,a.K(function(){a.ja.dispatchEvent(E(a.O,"amp-carousel:scrollpositionchange",null))}),a.ba!=a.o||null!=a.D||b)){null!=a.D&&(a.o=a.D,a.D=null);var d=H(K(a));a.K(function(){var b=a.o;a.ba!=b&&(a.ba=b,a.ja.dispatchEvent(E(a.O,"amp-carousel:indexchange",v({index:b,actionSource:c}))));Ga(a,d);Ea(a);Ha(a,d);Ia(a)})}}
function Ia(a){var b=a.B,c=a.wa,d=a.h,e=a.j[a.o],f=z(b,d),g=f.length;f=f.start;e=z(b,e).start;var k=0==b?d.scrollLeft:d.scrollTop,l=e-(Math.abs(c)<=g?c:0)-f+k;a.M=!0;ya(d,function(){0==b?d.scrollLeft=l:d.scrollTop=l})}function Ba(a,b,c){var d=c.smoothScroll?function(a,b){return b()}:ya;d(a.h,function(){var c=a.h,d=a.B,g="start"==a.G,k=g?z(d,b).start:A(d,b);g=g?z(d,c).start:A(d,c);k=(0==d?c.scrollLeft:c.scrollTop)+(k-g);0==d?c.scrollLeft=k:c.scrollTop=k})}
function Ja(a,b,c,d){for(var e=a.o,f=a.ba,g=a.j,k=g[e],l=k._revolutions||0,m=d?1:-1,n=1;n<=c;n++){var r=t(e+n*m,g.length);if(r===f&&e!==f)break;var U=r>e!==d;J(a,g[r],U?l+m:l,b)}}function Ha(a,b){if(a.isLooping()){var c=a.j,d=a.A,e="start"==a.G,f=e?d-1:0,g=(c.length-1-f)/2,k=(c.length-1+f)/2;Ja(a,b,Math.round(g),!1);Ja(a,b,Math.round(k),!0)}}function Aa(a,b){var c=a.A,d="start"==a.G?c:c/2;return b>=a.j.length-d};v({c:!0,v:!0,a:!0,ad:!0,action:!0});function Ka(a){var b="";try{"localStorage"in a&&(b=a.localStorage.getItem("amp-experiment-toggles"))}catch(e){if(ha.dev)a=ha.dev;else throw Error("failed to call initLogConstructor");a.warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}var c=b?b.split(/\s*,\s*/g):[];a=Object.create(null);for(var d=0;d<c.length;d++)0!=c[d].length&&("-"==c[d][0]?a[c[d].substr(1)]=!1:a[c[d]]=!0);return a};function La(a){var b=a.ownerDocument.defaultView,c=b.__AMP_TOP||(b.__AMP_TOP=b),d=b!=c;var e=c;if(e.__AMP__EXPERIMENT_TOGGLES)var f=e.__AMP__EXPERIMENT_TOGGLES;else{e.__AMP__EXPERIMENT_TOGGLES=Object.create(null);f=e.__AMP__EXPERIMENT_TOGGLES;if(e.AMP_CONFIG)for(var g in e.AMP_CONFIG){var k=e.AMP_CONFIG[g];"number"===typeof k&&0<=k&&1>=k&&(f[g]=Math.random()<k)}if(e.AMP_CONFIG&&Array.isArray(e.AMP_CONFIG["allow-doc-opt-in"])&&0<e.AMP_CONFIG["allow-doc-opt-in"].length&&(g=e.AMP_CONFIG["allow-doc-opt-in"],
k=e.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){k=k.getAttribute("content").split(",");for(var l=0;l<k.length;l++)-1!=g.indexOf(k[l])&&(f[k[l]]=!0)}Object.assign(f,Ka(e));if(e.AMP_CONFIG&&Array.isArray(e.AMP_CONFIG["allow-url-opt-in"])&&0<e.AMP_CONFIG["allow-url-opt-in"].length){g=e.AMP_CONFIG["allow-url-opt-in"];k=e.location.originalHash||e.location.hash;e=Object.create(null);if(k)for(var m;m=fa.exec(k);)l=ea(m[1],m[1]),m=m[2]?ea(m[2].replace(/\+/g," "),m[2]):"",e[l]=m;for(k=
0;k<g.length;k++)l=e["e-"+g[k]],"1"==l&&(f[g[k]]=!0),"0"==l&&(f[g[k]]=!1)}}var n=!!f["ampdoc-fie"];d&&!n?a=M(b,"action")?N(b,"action"):null:(a=O(a),a=P(a),a=M(a,"action")?N(a,"action"):null);return a}function Q(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return N(a,b)}function Ma(a){var b=O(a);b=P(b);return N(b,"owners")}function O(a){return a.nodeType?Q((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function P(a){a=O(a);return a.isSingleDoc()?a.win:a}
function N(a,b){M(a,b);var c=R(a);a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function Na(a){var b=R(a)["amp-analytics-instrumentation"];if(b){if(b.promise)return b.promise;N(a,"amp-analytics-instrumentation");return b.promise=Promise.resolve(b.obj)}return null}function R(a){var b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});return b}function M(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)}
function Oa(){var a=new oa,b=a.promise,c=a.resolve;a=a.reject;b.catch(function(){});return{obj:null,promise:b,resolve:c,reject:a,context:null,ctor:null}};function Pa(a){var b=Na(P(a));if(b)return b;var c=O(a);return c.waitForBodyOpen().then(function(){var a=c.win;var b=c.win.document.head;if(b){var f={};b=b.querySelectorAll("script[custom-element],script[custom-template]");for(var g=0;g<b.length;g++){var k=b[g];k=k.getAttribute("custom-element")||k.getAttribute("custom-template");f[k]=!0}f=Object.keys(f)}else f=[];a=f.includes("amp-analytics")?Q(a,"extensions").waitForExtension(a,"amp-analytics"):Promise.resolve();return a}).then(function(){var b=
c.win;if(b.__AMP_EXTENDED_ELEMENTS&&b.__AMP_EXTENDED_ELEMENTS["amp-analytics"]){b=P(a);var e=Na(b);e?b=e:(b=R(b),b["amp-analytics-instrumentation"]=Oa(),b=b["amp-analytics-instrumentation"].promise)}else b=null;return b})};function Qa(a){var b=a.ampElement,c=a.intersectionElement,d=void 0===a.intersectionThreshold?.01:a.intersectionThreshold,e=void 0===a.nearbyMarginInPercent?100:a.nearbyMarginInPercent,f=void 0===a.viewportIntersectionThreshold?d:a.viewportIntersectionThreshold,g=void 0===a.viewportIntersectionCallback?function(){}:a.viewportIntersectionCallback;this.H=b;this.Y=Ma(b.element);this.na=c;this.Ba=d;this.Da=e;this.Ja=f;this.Ia=g;this.$=!1;this.m=[];this.W=this.U=this.X=null;this.S=!1}h=Qa.prototype;
h.setQueueChanges=function(a){this.$=a};function S(a,b,c){c?a.Y.scheduleLayout(a.H.element,b):a.Y.scheduleUnlayout(a.H.element,b)}function T(a,b,c){a.Y.updateInViewport(a.H.element,b,c);a.Ia(b,c)}
function Ra(a){if(!(a.X&&a.U&&a.W)){var b=a.H.win;a.X=new b.IntersectionObserver(function(b){return Sa(a,b)},{root:a.na,rootMargin:a.Da+"%",threshold:a.Ba});a.U=new b.IntersectionObserver(function(b){return Ta(a,b)},{root:a.na,rootMargin:a.Da+10+"%",threshold:a.Ba});a.W=new b.IntersectionObserver(function(b){return Ua(a,b)},{root:a.na,rootMargin:"0%",threshold:a.Ja})}}
function Sa(a,b){b.filter(function(a){return a.isIntersecting}).forEach(function(a){a.target.__AMP_CAROUSEL_NEAR_VIEWPORT=0});a.$||Va(a)}function Ta(a,b){b.filter(function(a){return!a.isIntersecting}).forEach(function(a){a.target.__AMP_CAROUSEL_NEAR_VIEWPORT=1});a.$||Xa(a)}function Ua(a,b){b.forEach(function(a){a.target.__AMP_CAROUSEL_IN_VIEWPORT=a.isIntersecting?0:1});a.$||Ya(a)}h.flushChanges=function(){Va(this);Xa(this);Ya(this)};
function Va(a){for(var b=0;b<a.m.length;b++){var c=a.m[b];0==c.__AMP_CAROUSEL_NEAR_VIEWPORT&&(S(a,c,!0),c.__AMP_CAROUSEL_NEAR_VIEWPORT=null)}}function Xa(a){for(var b=0;b<a.m.length;b++){var c=a.m[b];1==c.__AMP_CAROUSEL_NEAR_VIEWPORT&&(S(a,c,!1),c.__AMP_CAROUSEL_NEAR_VIEWPORT=null)}}function Ya(a){for(var b=0;b<a.m.length;b++){var c=a.m[b];0==c.__AMP_CAROUSEL_IN_VIEWPORT?T(a,c,!0):1==c.__AMP_CAROUSEL_IN_VIEWPORT&&T(a,c,!1);c.__AMP_CAROUSEL_IN_VIEWPORT=null}}
function V(a,b){if("IntersectionObserver"in a.H.win)if(Ra(a),b)for(var c=0;c<a.m.length;c++)a.X.observe(a.m[c]),a.U.observe(a.m[c]),a.W.observe(a.m[c]);else a.X.disconnect(),a.U.disconnect(),a.W.disconnect()}h.updateChildren=function(a){this.m=a;if("IntersectionObserver"in this.H.win){for(a=0;a<this.m.length;a++)this.Y.setOwner(this.m[a],this.H.element);V(this,!1);V(this,this.S)}};h.wasLaidOut=function(){this.S=!0;V(this,this.S)};
h.wasUnlaidOut=function(){this.S=!1;V(this,this.S);for(var a=0;a<this.m.length;a++)S(this,this.m[a],!1),T(this,this.m[a],!1)};var W;function Za(a){var b=W;b.innerHTML=a[0];a=b.firstElementChild;b.removeChild(a);return a};function $a(a,b,c){Pa(a).then(function(d){d&&d.triggerEventForTarget(a,b,c)})};var ab=['<div class=i-amphtml-carousel-content><div class=i-amphtml-carousel-scroll></div><div class=i-amphtml-carousel-arrows><div tabindex=0 class="amp-carousel-button amp-carousel-button-prev"></div><div tabindex=0 class="amp-carousel-button amp-carousel-button-next"></div></div></div>'];function X(a){a=AMP.BaseElement.call(this,a)||this;a.oa=Q(a.win,"platform").isIos();a.l=null;a.h=null;a.j=[];a.o=null;a.da="carousel";a.ha=!1;a.I=null;a.J=null;a.ka=!1;a.ta=null;a.C=null;return a}var Y=AMP.BaseElement;
X.prototype=aa(Y.prototype);X.prototype.constructor=X;if(da)da(X,Y);else for(var Z in Y)if("prototype"!=Z)if(Object.defineProperties){var bb=Object.getOwnPropertyDescriptor(Y,Z);bb&&Object.defineProperty(X,Z,bb)}else X[Z]=Y[Z];X.Ka=Y.prototype;function cb(a){a.registerAction("goToSlide",function(b){var c=b.trust;a.l.goToSlide(b.args.index||0,{actionSource:100==c?0:1})},1);a.registerAction("toggleAutoplay",function(b){var c=(b=b.args)?b.toggleOn:void 0;db(a,c)},1)}h=X.prototype;
h.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a};
h.buildCallback=function(){var a=this;this.ta=La(this.element);var b=this.element,c=this.win,d=this.getRealChildren();b.appendChild(eb(this));this.h=this.element.querySelector(".i-amphtml-carousel-scroll");this.J=this.element.querySelector(".amp-carousel-button-prev");this.I=this.element.querySelector(".amp-carousel-button-next");this.l=new za({win:c,element:b,scrollContainer:this.h,initialIndex:Number(this.element.getAttribute("slide")),runMutate:function(b){return a.mutateElement(b)}});fb(this,
d);cb(this);this.element.addEventListener("amp-carousel:indexchange",function(b){a.qa(b)});this.element.addEventListener("amp-carousel:scrollstart",function(){a.C.setQueueChanges(a.oa)});this.element.addEventListener("amp-carousel:scrollpositionchange",function(){a.C.flushChanges();a.C.setQueueChanges(!1);gb(a)});this.J.addEventListener("click",function(){return a.interactionPrev()});this.I.addEventListener("click",function(){return a.interactionNext()});var e=Ma(b);this.C=new Qa({ampElement:this,
intersectionElement:this.h,nearbyMarginInPercent:this.oa?200:100,viewportIntersectionCallback:function(b,c){c?e.scheduleResume(a.element,b):e.schedulePause(a.element,b)}});this.C.setQueueChanges(this.oa);this.C.updateChildren(this.j);this.l.updateSlides(this.j);this.l.goToSlide(Number(this.element.getAttribute("slide")||"0"));return this.mutateElement(function(){})};h.isRelayoutNeeded=function(){return!0};
h.layoutCallback=function(){var a=qa(this.element);if(a)return Promise.resolve();this.C.wasLaidOut();this.l.updateUi();return Promise.resolve()};h.unlayoutCallback=function(){this.C.wasUnlaidOut();return!0};h.pauseCallback=function(){this.l.pauseAutoAdvance()};h.resumeCallback=function(){this.l.resumeAutoAdvance()};h.mutatedAttributesCallback=function(a){a.slide&&this.l.goToSlide(Number(a.slide))};h.goToSlide=function(a){this.l.goToSlide(a,{smoothScroll:!1})};
h.interactionNext=function(){"carousel"==this.da?hb(this,!0):this.l.next(0)};h.interactionPrev=function(){"carousel"==this.da?hb(this,!1):this.l.prev(0)};function hb(a,b){var c=a.h;a=(a.win.getComputedStyle(c)||u()).direction;var d=b?1:-1,e="rtl"==a?-1:1;c.scrollLeft+=c.offsetWidth*d*e}function eb(a){a=a.element;a=a.ownerDocument||a;W&&W.ownerDocument===a||(W=a.createElement("div"));var b=Za;return b(ab)}
function fb(a,b){var c=a.element.getAttribute("dir")||(a.win.getComputedStyle(a.element)||u()).direction,d=a.element.hasAttribute("loop"),e=a.element.getAttribute("autoplay"),f=a.element.getAttribute("delay"),g=a.element.getAttribute("type"),k=null!=e,l=e?Number(e):Number.POSITIVE_INFINITY,m=Math.max(Number(f)||5E3,1E3);a.l.updateForwards("rtl"!=c);a.l.updateLoop(d||k);a.l.updateAutoAdvanceLoops(l);a.l.updateAutoAdvanceInterval(m);a.mutateElement(function(){a.J.setAttribute("dir",c);a.I.setAttribute("dir",
c)});db(a,k);ib(a,g,b);gb(a)}function jb(a,b){var c=String(b+1),d=String(a.j.length);return" "+(a.element.getAttribute("data-button-count-format")||"(%s of %s)").replace("%s",c).replace("%s",d)}
function gb(a){var b=a.l.getCurrentIndex(),c=a.ka&&!a.element.hasAttribute("controls"),d=c||a.l.isAtStart(),e=c||a.l.isAtEnd();a.J.classList.toggle("amp-disabled",d);a.J.setAttribute("aria-disabled",d);var f=a.J;var g=0<=b-1?b-1:a.element.hasAttribute("loop")?a.j.length-1:null;g=null==g?0:g;g=(a.element.getAttribute("data-prev-button-aria-label")||"Previous item in carousel")+jb(a,g);f.title=g;a.I.classList.toggle("amp-disabled",e);a.I.setAttribute("aria-disabled",e);f=a.I;b=b+1<a.j.length?b+1:a.element.hasAttribute("loop")?
0:null;b=null==b?a.j.length-1:b;a=(a.element.getAttribute("data-next-button-aria-label")||"Next item in carousel")+jb(a,b);f.title=a}
function ib(a,b,c){var d="slides"==b;a.da=d?"slides":"carousel";a.l.updateHideScrollbar(d);a.l.updateMixedLength(!d);a.l.updateSnap(d);var e=d?"button":"presentation";a.J.setAttribute("role",e);a.I.setAttribute("role",e);a.j=c.map(function(a){a.classList.add("amp-carousel-slide");if(d){var b=document.createElement("div");b.className="i-amphtml-carousel-slotted";b.appendChild(a);return b}return a});a.j.forEach(function(b){a.h.appendChild(b);d?b.classList.add("i-amphtml-carousel-slide-item"):b.classList.add("amp-scrollable-carousel-slide")})}
function kb(a,b){return null==b?"null":a.j[b].getAttribute("data-slide-id")||String(b)}function db(a,b){a.ha=void 0!==b?b:!a.ha;a.l.updateAutoAdvance(a.ha)}
h.qa=function(a){if("carousel"!=this.da){var b=a.detail;a=b.index;var c=b.actionSource;this.ka=this.ka||3==c;b=this.o;this.o=a;if(null!=b){var d=v({index:a});c=2==c||3==c||0==c?100:1;var e=E(this.win,"slidescroll.slideChange",d);this.ta.trigger(this.element,"slideChange",e,c);this.element.dispatchCustomEvent("slideChange",d);d=a-b;c=this.j.length;d=(this.l.isLooping()?0<d&&.5>d/c||0>d&&-.5>d/c:0<d)?"amp-carousel-next":"amp-carousel-prev";a=v({fromSlide:kb(this,b),toSlide:kb(this,a)});$a(this.element,
"amp-carousel-change",a);$a(this.element,d,a)}gb(this)}};(function(a){a.registerElement("amp-carousel",X,".i-amphtml-carousel-content{position:absolute;top:0;left:0;bottom:0;right:0}.i-amphtml-carousel-scroll{display:-ms-flexbox;display:flex;width:100%;height:100%;-ms-flex-align:center;align-items:center;scroll-behavior:smooth;-webkit-overflow-scrolling:touch!important;--visible-count:1}.i-amphtml-carousel-scroll[hide-scrollbar=true]{scrollbar-width:none}.i-amphtml-carousel-scroll[hide-scrollbar=true]::-webkit-scrollbar{display:none;box-sizing:content-box!important}.i-amphtml-carousel-scroll[horizontal=true]{-ms-flex-direction:row;flex-direction:row;scroll-snap-type-x:mandatory;-webkit-scroll-snap-type:x mandatory;scroll-snap-type:x mandatory;padding-bottom:20px!important;overflow-y:hidden}.i-amphtml-carousel-scroll[horizontal=false]{-ms-flex-direction:column;flex-direction:column;scroll-snap-type-y:mandatory;-webkit-scroll-snap-type:y mandatory;scroll-snap-type:y mandatory;padding-right:20px!important;overflow-x:hidden}.i-amphtml-carousel-scroll[snap=false]{-webkit-scroll-snap-type:none;scroll-snap-type:none}.i-amphtml-carousel-scroll[user-scrollable=false]{overflow:hidden}.i-amphtml-carousel-spacer{z-index:-1}.i-amphtml-carousel-slotted,.i-amphtml-carousel-spacer{box-sizing:border-box!important;margin:0!important;-ms-flex-negative:0!important;flex-shrink:0!important;width:100%;height:100%;scroll-snap-stop:always}.i-amphtml-carousel-scroll[horizontal=true][mixed-length=false]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=true][mixed-length=false]>.i-amphtml-carousel-spacer{width:calc(100%/var(--visible-count))!important;min-width:auto!important;max-width:none!important}.i-amphtml-carousel-scroll[horizontal=false][mixed-length=false]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=false][mixed-length=false]>.i-amphtml-carousel-spacer{height:calc(100%/var(--visible-count))!important;min-height:auto!important;max-height:none!important}.i-amphtml-carousel-scroll[horizontal=true][snap=true][mixed-length=true]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=true][snap=true][mixed-length=true]>.i-amphtml-carousel-spacer{max-width:100%!important}.i-amphtml-carousel-scroll[horizontal=false][snap=true][mixed-length=true]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=false][snap=true][mixed-length=true]>.i-amphtml-carousel-spacer{max-height:100%!important}.i-amphtml-carousel-scroll>.i-amphtml-carousel-slotted{will-change:transform}amp-carousel .i-amphtml-carousel-scroll[horizontal=true]{padding-bottom:0!important}amp-carousel:not([type=slides]) .i-amphtml-carousel-scroll{display:block!important;white-space:nowrap!important}amp-carousel:not([type=slides]) .i-amphtml-carousel-content{position:static}.amp-scrollable-carousel-slide{display:inline-block!important;margin-left:8px;-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:0;margin-inline-end:0}.amp-scrollable-carousel-slide:first-child{margin-left:0px;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0}.i-amphtml-carousel-arrows{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;pointer-events:none}.amp-carousel-button[dir=rtl]{transform:scaleX(-1)}.amp-carousel-button{position:relative;box-sizing:border-box;height:34px;width:34px;margin:16px;border-style:none;border-radius:2px;background-color:rgba(0,0,0,0.5);background-position:50% 50%;background-repeat:no-repeat;z-index:10;pointer-events:all}.amp-carousel-button.amp-disabled{animation:none;opacity:0;visibility:hidden;pointer-events:none}.amp-carousel-button-prev{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' fill='%23fff'%3E%3Cpath d='M15 8.25H5.87l4.19-4.19L9 3 3 9l6 6 1.06-1.06-4.19-4.19H15v-1.5z'/%3E%3C/svg%3E\");background-size:18px 18px}.amp-carousel-button-next{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' fill='%23fff'%3E%3Cpath d='M9 3L7.94 4.06l4.19 4.19H3v1.5h9.13l-4.19 4.19L9 15l6-6z'/%3E%3C/svg%3E\");background-size:18px 18px}.i-amphtml-carousel-slide-item{position:relative!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-pack:center!important;justify-content:center!important;-ms-flex-align:center!important;align-items:center!important}.i-amphtml-carousel-slide-item>*{width:100%;height:100%;overflow:hidden!important}.amp-carousel-slide>.i-amphtml-replaced-content{-o-object-fit:contain;object-fit:contain}\n/*# sourceURL=/extensions/amp-carousel/0.2/amp-carousel.css*/")})(self.AMP);
})});

//# sourceMappingURL=amp-carousel-0.2.js.map
