{"version":3,"sources":["http://localhost:8000/src/url-try-decode-uri-component.js","http://localhost:8000/src/url-parse-query-string.js","http://localhost:8000/src/log.js","http://localhost:8000/src/utils/object.js","http://localhost:8000/src/url.js","http://localhost:8000/src/experiments.js","http://localhost:8000/src/service.js","http://localhost:8000/src/services.js","http://localhost:8000/src/json.js","http://localhost:8000/extensions/amp-viewer-assistance/0.1/amp-viewer-assistance.js","http://localhost:8000/src/action-constants.js"],"names":["tryDecodeUriComponent_","component","fallback","decodeURIComponent","e","regex","self","__AMP_LOG","user","dev","userForEmbed","logs","Error","dict","opt_initial","isExperimentOn","win","experimentId","Object","create","toggles","AMP_CONFIG","frequency","Math","random","Array","isArray","length","allowed","meta","document","head","querySelector","optedInExperiments","getAttribute","split","i","indexOf","assign","getExperimentToggles","hash","location","originalHash","params","queryString","match","exec","name","value","replace","param","experimentsString","localStorage","getItem","LOCAL_STORAGE_KEY","warn","TAG","tokens","substr","getExistingServiceForDocInEmbedScope","element","ownerDocument","defaultView","topWin","__AMP_TOP","isEmbed","ampdocFieExperimentOn","ampdoc","getAmpdoc","holder","getAmpdocServiceHolder","isServiceRegistered","id","getServiceInternal","getService","getServiceForDoc","elementOrAmpDoc","nodeOrDoc","nodeType","getAmpDoc","isSingleDoc","services","__AMP_SERVICES","s","obj","ctor","context","resolve","service","tryParseJson","json","opt_onFailed","JSON","parse","ACTION_STATUS_WHITELIST","constructor","AmpViewerAssistance","assistanceElement","getElementById","enabled_","ampdoc_","assistanceElement_","configJson_","textContent","createError","viewer_","action_","vsync_","actionHandler_","invocation","method","args","satisfiesTrust","LOW","validateAndTransformUpdateArgs_","then","sendMessageAwaitResponse","catch","err","error","toString","HIGH","requestSignIn_","start_","isTrustedViewer","installActionHandler","bind","getIdTokenPromise","sendMessage","GSI_TOKEN_PROVIDER","token","toggleTopClass_","setIdTokenStatus_","available","info","trigger","Promise","reject","update","text","errorMessage","status","actionStatus","includes","on","className","mutate","root","getRootElement_","getRootNode","classList","documentElement","body","toggle","AMP","registerServiceForDoc"],"mappings":"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","file":"amp-viewer-assistance-0.1.js","sourcesContent":[]}