{"version":3,"sources":["http://localhost:8000/src/url-try-decode-uri-component.js","http://localhost:8000/src/url-parse-query-string.js","http://localhost:8000/src/log.js","http://localhost:8000/src/utils/object.js","http://localhost:8000/src/url.js","http://localhost:8000/src/experiments.js","http://localhost:8000/src/service.js","http://localhost:8000/src/services.js","http://localhost:8000/extensions/amp-dynamic-css-classes/0.1/amp-dynamic-css-classes.js"],"names":["tryDecodeUriComponent_","component","fallback","decodeURIComponent","e","regex","self","__AMP_LOG","user","dev","userForEmbed","logs","dict","opt_initial","getExperimentToggles","win","experimentsString","localStorage","getItem","LOCAL_STORAGE_KEY","Error","warn","TAG","tokens","split","toggles","Object","create","i","length","substr","getService","id","__AMP_TOP","getServiceInternal","getServiceForDoc","elementOrAmpDoc","ampdoc","getAmpdoc","holder","getAmpdocServiceHolder","nodeOrDoc","nodeType","defaultView","ownerDocument","getAmpDoc","isSingleDoc","isServiceRegistered","services","__AMP_SERVICES","s","obj","ctor","context","resolve","service","referrers_","referrer","domains","domainBase","reduceRight","referrers","domain","push","normalizedReferrers","getUnconfirmedReferrerUrl","hostname","element","topWin","isEmbed","AMP_CONFIG","experimentId","frequency","Math","random","Array","isArray","allowed","meta","document","head","querySelector","optedInExperiments","getAttribute","indexOf","assign","hash","location","originalHash","params","queryString","match","exec","name","value","replace","param","ampdocFieExperimentOn","test","navigator","userAgent","addDynamicCssClasses","classes","isBodyAvailable","addCssClassesToBody","getBody","waitForBodyOpen","then","body","classList","add","addReferrerClasses","map","mutate","addViewerClass","viewer","isEmbedded","constructor","AmpDynamicCssClasses","whenReady","Promise","AMP","registerServiceForDoc"],"mappings":"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","file":"amp-dynamic-css-classes-0.1.js","sourcesContent":[]}